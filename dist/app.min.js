!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(Buffer){var clone=function(){"use strict";function clone(parent,circular,depth,prototype){function _clone(parent,depth){if(null===parent)return null;if(0==depth)return parent;var child,proto;if("object"!=typeof parent)return parent;if(clone.__isArray(parent))child=[];else if(clone.__isRegExp(parent))child=new RegExp(parent.source,__getRegExpFlags(parent)),parent.lastIndex&&(child.lastIndex=parent.lastIndex);else if(clone.__isDate(parent))child=new Date(parent.getTime());else{if(useBuffer&&Buffer.isBuffer(parent))return child=new Buffer(parent.length),parent.copy(child),child;"undefined"==typeof prototype?(proto=Object.getPrototypeOf(parent),child=Object.create(proto)):(child=Object.create(prototype),proto=prototype)}if(circular){var index=allParents.indexOf(parent);if(index!=-1)return allChildren[index];allParents.push(parent),allChildren.push(child)}for(var i in parent){var attrs;proto&&(attrs=Object.getOwnPropertyDescriptor(proto,i)),attrs&&null==attrs.set||(child[i]=_clone(parent[i],depth-1))}return child}var filter;"object"==typeof circular&&(depth=circular.depth,prototype=circular.prototype,filter=circular.filter,circular=circular.circular);var allParents=[],allChildren=[],useBuffer="undefined"!=typeof Buffer;return"undefined"==typeof circular&&(circular=!0),"undefined"==typeof depth&&(depth=1/0),_clone(parent,depth)}function __objToStr(o){return Object.prototype.toString.call(o)}function __isDate(o){return"object"==typeof o&&"[object Date]"===__objToStr(o)}function __isArray(o){return"object"==typeof o&&"[object Array]"===__objToStr(o)}function __isRegExp(o){return"object"==typeof o&&"[object RegExp]"===__objToStr(o)}function __getRegExpFlags(re){var flags="";return re.global&&(flags+="g"),re.ignoreCase&&(flags+="i"),re.multiline&&(flags+="m"),flags}return clone.clonePrototype=function(parent){if(null===parent)return null;var c=function(){};return c.prototype=parent,new c},clone.__objToStr=__objToStr,clone.__isDate=__isDate,clone.__isArray=__isArray,clone.__isRegExp=__isRegExp,clone.__getRegExpFlags=__getRegExpFlags,clone}();"object"==typeof module&&module.exports&&(module.exports=clone)}).call(this,require("buffer").Buffer)},{buffer:10}],2:[function(require,module,exports){function comparativeDistance(x,y){return Math.pow(x[0]-y[0],2)+Math.pow(x[1]-y[1],2)+Math.pow(x[2]-y[2],2)}var cssKeywords=require("./css-keywords"),reverseKeywords={};for(var key in cssKeywords)cssKeywords.hasOwnProperty(key)&&(reverseKeywords[cssKeywords[key]]=key);var convert=module.exports={rgb:{channels:3},hsl:{channels:3},hsv:{channels:3},hwb:{channels:3},cmyk:{channels:4},xyz:{channels:3},lab:{channels:3},lch:{channels:3},hex:{channels:1},keyword:{channels:1},ansi16:{channels:1},ansi256:{channels:1},hcg:{channels:3},apple:{channels:3}};for(var model in convert)if(convert.hasOwnProperty(model)){if(!("channels"in convert[model]))throw new Error("missing channels property: "+model);var channels=convert[model].channels;delete convert[model].channels,Object.defineProperty(convert[model],"channels",{value:channels})}convert.rgb.hsl=function(rgb){var h,s,l,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min;return max===min?h=0:r===max?h=(g-b)/delta:g===max?h=2+(b-r)/delta:b===max&&(h=4+(r-g)/delta),h=Math.min(60*h,360),h<0&&(h+=360),l=(min+max)/2,s=max===min?0:l<=.5?delta/(max+min):delta/(2-max-min),[h,100*s,100*l]},convert.rgb.hsv=function(rgb){var h,s,v,r=rgb[0],g=rgb[1],b=rgb[2],min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min;return s=0===max?0:delta/max*1e3/10,max===min?h=0:r===max?h=(g-b)/delta:g===max?h=2+(b-r)/delta:b===max&&(h=4+(r-g)/delta),h=Math.min(60*h,360),h<0&&(h+=360),v=max/255*1e3/10,[h,s,v]},convert.rgb.hwb=function(rgb){var r=rgb[0],g=rgb[1],b=rgb[2],h=convert.rgb.hsl(rgb)[0],w=1/255*Math.min(r,Math.min(g,b));return b=1-1/255*Math.max(r,Math.max(g,b)),[h,100*w,100*b]},convert.rgb.cmyk=function(rgb){var c,m,y,k,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;return k=Math.min(1-r,1-g,1-b),c=(1-r-k)/(1-k)||0,m=(1-g-k)/(1-k)||0,y=(1-b-k)/(1-k)||0,[100*c,100*m,100*y,100*k]},convert.rgb.keyword=function(rgb){var reversed=reverseKeywords[rgb];if(reversed)return reversed;var currentClosestKeyword,currentClosestDistance=1/0;for(var keyword in cssKeywords)if(cssKeywords.hasOwnProperty(keyword)){var value=cssKeywords[keyword],distance=comparativeDistance(rgb,value);distance<currentClosestDistance&&(currentClosestDistance=distance,currentClosestKeyword=keyword)}return currentClosestKeyword},convert.keyword.rgb=function(keyword){return cssKeywords[keyword]},convert.rgb.xyz=function(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92,b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92;var x=.4124*r+.3576*g+.1805*b,y=.2126*r+.7152*g+.0722*b,z=.0193*r+.1192*g+.9505*b;return[100*x,100*y,100*z]},convert.rgb.lab=function(rgb){var l,a,b,xyz=convert.rgb.xyz(rgb),x=xyz[0],y=xyz[1],z=xyz[2];return x/=95.047,y/=100,z/=108.883,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,z=z>.008856?Math.pow(z,1/3):7.787*z+16/116,l=116*y-16,a=500*(x-y),b=200*(y-z),[l,a,b]},convert.hsl.rgb=function(hsl){var t1,t2,t3,rgb,val,h=hsl[0]/360,s=hsl[1]/100,l=hsl[2]/100;if(0===s)return val=255*l,[val,val,val];t2=l<.5?l*(1+s):l+s-l*s,t1=2*l-t2,rgb=[0,0,0];for(var i=0;i<3;i++)t3=h+1/3*-(i-1),t3<0&&t3++,t3>1&&t3--,val=6*t3<1?t1+6*(t2-t1)*t3:2*t3<1?t2:3*t3<2?t1+(t2-t1)*(2/3-t3)*6:t1,rgb[i]=255*val;return rgb},convert.hsl.hsv=function(hsl){var sv,v,h=hsl[0],s=hsl[1]/100,l=hsl[2]/100,smin=s,lmin=Math.max(l,.01);return l*=2,s*=l<=1?l:2-l,smin*=lmin<=1?lmin:2-lmin,v=(l+s)/2,sv=0===l?2*smin/(lmin+smin):2*s/(l+s),[h,100*sv,100*v]},convert.hsv.rgb=function(hsv){var h=hsv[0]/60,s=hsv[1]/100,v=hsv[2]/100,hi=Math.floor(h)%6,f=h-Math.floor(h),p=255*v*(1-s),q=255*v*(1-s*f),t=255*v*(1-s*(1-f));switch(v*=255,hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q]}},convert.hsv.hsl=function(hsv){var lmin,sl,l,h=hsv[0],s=hsv[1]/100,v=hsv[2]/100,vmin=Math.max(v,.01);return l=(2-s)*v,lmin=(2-s)*vmin,sl=s*vmin,sl/=lmin<=1?lmin:2-lmin,sl=sl||0,l/=2,[h,100*sl,100*l]},convert.hwb.rgb=function(hwb){var i,v,f,n,h=hwb[0]/360,wh=hwb[1]/100,bl=hwb[2]/100,ratio=wh+bl;ratio>1&&(wh/=ratio,bl/=ratio),i=Math.floor(6*h),v=1-bl,f=6*h-i,0!==(1&i)&&(f=1-f),n=wh+f*(v-wh);var r,g,b;switch(i){default:case 6:case 0:r=v,g=n,b=wh;break;case 1:r=n,g=v,b=wh;break;case 2:r=wh,g=v,b=n;break;case 3:r=wh,g=n,b=v;break;case 4:r=n,g=wh,b=v;break;case 5:r=v,g=wh,b=n}return[255*r,255*g,255*b]},convert.cmyk.rgb=function(cmyk){var r,g,b,c=cmyk[0]/100,m=cmyk[1]/100,y=cmyk[2]/100,k=cmyk[3]/100;return r=1-Math.min(1,c*(1-k)+k),g=1-Math.min(1,m*(1-k)+k),b=1-Math.min(1,y*(1-k)+k),[255*r,255*g,255*b]},convert.xyz.rgb=function(xyz){var r,g,b,x=xyz[0]/100,y=xyz[1]/100,z=xyz[2]/100;return r=3.2406*x+y*-1.5372+z*-.4986,g=x*-.9689+1.8758*y+.0415*z,b=.0557*x+y*-.204+1.057*z,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:12.92*g,b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:12.92*b,r=Math.min(Math.max(0,r),1),g=Math.min(Math.max(0,g),1),b=Math.min(Math.max(0,b),1),[255*r,255*g,255*b]},convert.xyz.lab=function(xyz){var l,a,b,x=xyz[0],y=xyz[1],z=xyz[2];return x/=95.047,y/=100,z/=108.883,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,z=z>.008856?Math.pow(z,1/3):7.787*z+16/116,l=116*y-16,a=500*(x-y),b=200*(y-z),[l,a,b]},convert.lab.xyz=function(lab){var x,y,z,l=lab[0],a=lab[1],b=lab[2];y=(l+16)/116,x=a/500+y,z=y-b/200;var y2=Math.pow(y,3),x2=Math.pow(x,3),z2=Math.pow(z,3);return y=y2>.008856?y2:(y-16/116)/7.787,x=x2>.008856?x2:(x-16/116)/7.787,z=z2>.008856?z2:(z-16/116)/7.787,x*=95.047,y*=100,z*=108.883,[x,y,z]},convert.lab.lch=function(lab){var hr,h,c,l=lab[0],a=lab[1],b=lab[2];return hr=Math.atan2(b,a),h=360*hr/2/Math.PI,h<0&&(h+=360),c=Math.sqrt(a*a+b*b),[l,c,h]},convert.lch.lab=function(lch){var a,b,hr,l=lch[0],c=lch[1],h=lch[2];return hr=h/360*2*Math.PI,a=c*Math.cos(hr),b=c*Math.sin(hr),[l,a,b]},convert.rgb.ansi16=function(args){var r=args[0],g=args[1],b=args[2],value=1 in arguments?arguments[1]:convert.rgb.hsv(args)[2];if(value=Math.round(value/50),0===value)return 30;var ansi=30+(Math.round(b/255)<<2|Math.round(g/255)<<1|Math.round(r/255));return 2===value&&(ansi+=60),ansi},convert.hsv.ansi16=function(args){return convert.rgb.ansi16(convert.hsv.rgb(args),args[2])},convert.rgb.ansi256=function(args){var r=args[0],g=args[1],b=args[2];if(r===g&&g===b)return r<8?16:r>248?231:Math.round((r-8)/247*24)+232;var ansi=16+36*Math.round(r/255*5)+6*Math.round(g/255*5)+Math.round(b/255*5);return ansi},convert.ansi16.rgb=function(args){var color=args%10;if(0===color||7===color)return args>50&&(color+=3.5),color=color/10.5*255,[color,color,color];var mult=.5*(~~(args>50)+1),r=(1&color)*mult*255,g=(color>>1&1)*mult*255,b=(color>>2&1)*mult*255;return[r,g,b]},convert.ansi256.rgb=function(args){if(args>=232){var c=10*(args-232)+8;return[c,c,c]}args-=16;var rem,r=Math.floor(args/36)/5*255,g=Math.floor((rem=args%36)/6)/5*255,b=rem%6/5*255;return[r,g,b]},convert.rgb.hex=function(args){var integer=((255&Math.round(args[0]))<<16)+((255&Math.round(args[1]))<<8)+(255&Math.round(args[2])),string=integer.toString(16).toUpperCase();return"000000".substring(string.length)+string},convert.hex.rgb=function(args){var match=args.toString(16).match(/[a-f0-9]{6}/i);if(!match)return[0,0,0];var integer=parseInt(match[0],16),r=integer>>16&255,g=integer>>8&255,b=255&integer;return[r,g,b]},convert.rgb.hcg=function(rgb){var grayscale,hue,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,max=Math.max(Math.max(r,g),b),min=Math.min(Math.min(r,g),b),chroma=max-min;return grayscale=chroma<1?min/(1-chroma):0,hue=chroma<=0?0:max===r?(g-b)/chroma%6:max===g?2+(b-r)/chroma:4+(r-g)/chroma+4,hue/=6,hue%=1,[360*hue,100*chroma,100*grayscale]},convert.hsl.hcg=function(hsl){var s=hsl[1]/100,l=hsl[2]/100,c=1,f=0;return c=l<.5?2*s*l:2*s*(1-l),c<1&&(f=(l-.5*c)/(1-c)),[hsl[0],100*c,100*f]},convert.hsv.hcg=function(hsv){var s=hsv[1]/100,v=hsv[2]/100,c=s*v,f=0;return c<1&&(f=(v-c)/(1-c)),[hsv[0],100*c,100*f]},convert.hcg.rgb=function(hcg){var h=hcg[0]/360,c=hcg[1]/100,g=hcg[2]/100;if(0===c)return[255*g,255*g,255*g];var pure=[0,0,0],hi=h%1*6,v=hi%1,w=1-v,mg=0;switch(Math.floor(hi)){case 0:pure[0]=1,pure[1]=v,pure[2]=0;break;case 1:pure[0]=w,pure[1]=1,pure[2]=0;break;case 2:pure[0]=0,pure[1]=1,pure[2]=v;break;case 3:pure[0]=0,pure[1]=w,pure[2]=1;break;case 4:pure[0]=v,pure[1]=0,pure[2]=1;break;default:pure[0]=1,pure[1]=0,pure[2]=w}return mg=(1-c)*g,[255*(c*pure[0]+mg),255*(c*pure[1]+mg),255*(c*pure[2]+mg)]},convert.hcg.hsv=function(hcg){var c=hcg[1]/100,g=hcg[2]/100,v=c+g*(1-c),f=0;return v>0&&(f=c/v),[hcg[0],100*f,100*v]},convert.hcg.hsl=function(hcg){var c=hcg[1]/100,g=hcg[2]/100,l=g*(1-c)+.5*c,s=0;return l>0&&l<.5?s=c/(2*l):l>=.5&&l<1&&(s=c/(2*(1-l))),[hcg[0],100*s,100*l]},convert.hcg.hwb=function(hcg){var c=hcg[1]/100,g=hcg[2]/100,v=c+g*(1-c);return[hcg[0],100*(v-c),100*(1-v)]},convert.hwb.hcg=function(hwb){var w=hwb[1]/100,b=hwb[2]/100,v=1-b,c=v-w,g=0;return c<1&&(g=(v-c)/(1-c)),[hwb[0],100*c,100*g]},convert.apple.rgb=function(apple){return[apple[0]/65535*255,apple[1]/65535*255,apple[2]/65535*255]},convert.rgb.apple=function(rgb){return[rgb[0]/255*65535,rgb[1]/255*65535,rgb[2]/255*65535]}},{"./css-keywords":3}],3:[function(require,module,exports){module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],4:[function(require,module,exports){function wrapRaw(fn){var wrappedFn=function(args){return void 0===args||null===args?args:(arguments.length>1&&(args=Array.prototype.slice.call(arguments)),fn(args))};return"conversion"in fn&&(wrappedFn.conversion=fn.conversion),wrappedFn}function wrapRounded(fn){var wrappedFn=function(args){if(void 0===args||null===args)return args;arguments.length>1&&(args=Array.prototype.slice.call(arguments));var result=fn(args);if("object"==typeof result)for(var len=result.length,i=0;i<len;i++)result[i]=Math.round(result[i]);return result};return"conversion"in fn&&(wrappedFn.conversion=fn.conversion),wrappedFn}var conversions=require("./conversions"),route=require("./route"),convert={},models=Object.keys(conversions);models.forEach(function(fromModel){convert[fromModel]={},Object.defineProperty(convert[fromModel],"channels",{value:conversions[fromModel].channels});var routes=route(fromModel),routeModels=Object.keys(routes);routeModels.forEach(function(toModel){var fn=routes[toModel];convert[fromModel][toModel]=wrapRounded(fn),convert[fromModel][toModel].raw=wrapRaw(fn)})}),module.exports=convert},{"./conversions":2,"./route":5}],5:[function(require,module,exports){function buildGraph(){for(var graph={},len=models.length,i=0;i<len;i++)graph[models[i]]={distance:-1,parent:null};return graph}function deriveBFS(fromModel){var graph=buildGraph(),queue=[fromModel];for(graph[fromModel].distance=0;queue.length;)for(var current=queue.pop(),adjacents=Object.keys(conversions[current]),len=adjacents.length,i=0;i<len;i++){var adjacent=adjacents[i],node=graph[adjacent];node.distance===-1&&(node.distance=graph[current].distance+1,node.parent=current,queue.unshift(adjacent))}return graph}function link(from,to){return function(args){return to(from(args))}}function wrapConversion(toModel,graph){for(var path=[graph[toModel].parent,toModel],fn=conversions[graph[toModel].parent][toModel],cur=graph[toModel].parent;graph[cur].parent;)path.unshift(graph[cur].parent),fn=link(conversions[graph[cur].parent][cur],fn),cur=graph[cur].parent;return fn.conversion=path,fn}var conversions=require("./conversions"),models=Object.keys(conversions);module.exports=function(fromModel){for(var graph=deriveBFS(fromModel),conversion={},models=Object.keys(graph),len=models.length,i=0;i<len;i++){var toModel=models[i],node=graph[toModel];null!==node.parent&&(conversion[toModel]=wrapConversion(toModel,graph))}return conversion}},{"./conversions":2}],6:[function(require,module,exports){module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(require,module,exports){function getRgba(string){if(string){var abbr=/^#([a-fA-F0-9]{3})$/,hex=/^#([a-fA-F0-9]{6})$/,rgba=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,per=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,keyword=/(\D+)/,rgb=[0,0,0],a=1,match=string.match(abbr);if(match){match=match[1];for(var i=0;i<rgb.length;i++)rgb[i]=parseInt(match[i]+match[i],16)}else if(match=string.match(hex)){match=match[1];for(var i=0;i<rgb.length;i++)rgb[i]=parseInt(match.slice(2*i,2*i+2),16)}else if(match=string.match(rgba)){for(var i=0;i<rgb.length;i++)rgb[i]=parseInt(match[i+1]);a=parseFloat(match[4])}else if(match=string.match(per)){for(var i=0;i<rgb.length;i++)rgb[i]=Math.round(2.55*parseFloat(match[i+1]));a=parseFloat(match[4])}else if(match=string.match(keyword)){if("transparent"==match[1])return[0,0,0,0];if(rgb=colorNames[match[1]],!rgb)return}for(var i=0;i<rgb.length;i++)rgb[i]=scale(rgb[i],0,255);return a=a||0==a?scale(a,0,1):1,rgb[3]=a,rgb}}function getHsla(string){if(string){var hsl=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,match=string.match(hsl);if(match){var alpha=parseFloat(match[4]),h=scale(parseInt(match[1]),0,360),s=scale(parseFloat(match[2]),0,100),l=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,s,l,a]}}}function getHwb(string){if(string){var hwb=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,match=string.match(hwb);if(match){var alpha=parseFloat(match[4]),h=scale(parseInt(match[1]),0,360),w=scale(parseFloat(match[2]),0,100),b=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,w,b,a]}}}function getRgb(string){var rgba=getRgba(string);return rgba&&rgba.slice(0,3)}function getHsl(string){var hsla=getHsla(string);return hsla&&hsla.slice(0,3)}function getAlpha(string){var vals=getRgba(string);return vals?vals[3]:(vals=getHsla(string))?vals[3]:(vals=getHwb(string))?vals[3]:void 0}function hexString(rgb){return"#"+hexDouble(rgb[0])+hexDouble(rgb[1])+hexDouble(rgb[2])}function rgbString(rgba,alpha){return alpha<1||rgba[3]&&rgba[3]<1?rgbaString(rgba,alpha):"rgb("+rgba[0]+", "+rgba[1]+", "+rgba[2]+")"}function rgbaString(rgba,alpha){return void 0===alpha&&(alpha=void 0!==rgba[3]?rgba[3]:1),"rgba("+rgba[0]+", "+rgba[1]+", "+rgba[2]+", "+alpha+")"}function percentString(rgba,alpha){if(alpha<1||rgba[3]&&rgba[3]<1)return percentaString(rgba,alpha);var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgb("+r+"%, "+g+"%, "+b+"%)"}function percentaString(rgba,alpha){var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgba("+r+"%, "+g+"%, "+b+"%, "+(alpha||rgba[3]||1)+")"}function hslString(hsla,alpha){return alpha<1||hsla[3]&&hsla[3]<1?hslaString(hsla,alpha):"hsl("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%)"}function hslaString(hsla,alpha){return void 0===alpha&&(alpha=void 0!==hsla[3]?hsla[3]:1),"hsla("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%, "+alpha+")"}function hwbString(hwb,alpha){return void 0===alpha&&(alpha=void 0!==hwb[3]?hwb[3]:1),"hwb("+hwb[0]+", "+hwb[1]+"%, "+hwb[2]+"%"+(void 0!==alpha&&1!==alpha?", "+alpha:"")+")"}function keyword(rgb){return reverseNames[rgb.slice(0,3)]}function scale(num,min,max){return Math.min(Math.max(min,num),max)}function hexDouble(num){var str=num.toString(16).toUpperCase();return str.length<2?"0"+str:str}var colorNames=require("color-name");module.exports={getRgba:getRgba,getHsla:getHsla,getRgb:getRgb,getHsl:getHsl,getHwb:getHwb,getAlpha:getAlpha,hexString:hexString,rgbString:rgbString,rgbaString:rgbaString,percentString:percentString,percentaString:percentaString,hslString:hslString,hslaString:hslaString,hwbString:hwbString,keyword:keyword};var reverseNames={};for(var name in colorNames)reverseNames[colorNames[name]]=name},{"color-name":6}],8:[function(require,module,exports){var clone=require("clone"),convert=require("color-convert"),string=require("color-string"),Color=function(obj){if(obj instanceof Color)return obj;if(!(this instanceof Color))return new Color(obj);this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var vals;if("string"==typeof obj)if(vals=string.getRgba(obj))this.setValues("rgb",vals);else if(vals=string.getHsla(obj))this.setValues("hsl",vals);else{if(!(vals=string.getHwb(obj)))throw new Error('Unable to parse color from string "'+obj+'"');this.setValues("hwb",vals)}else if("object"==typeof obj)if(vals=obj,void 0!==vals.r||void 0!==vals.red)this.setValues("rgb",vals);else if(void 0!==vals.l||void 0!==vals.lightness)this.setValues("hsl",vals);else if(void 0!==vals.v||void 0!==vals.value)this.setValues("hsv",vals);else if(void 0!==vals.w||void 0!==vals.whiteness)this.setValues("hwb",vals);else{if(void 0===vals.c&&void 0===vals.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(obj));this.setValues("cmyk",vals)}};Color.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var rgb=this.values.rgb;return rgb.concat([this.values.alpha])},hslaArray:function(){var hsl=this.values.hsl;return hsl.concat([this.values.alpha])},alpha:function(val){return void 0===val?this.values.alpha:(this.setValues("alpha",val),this)},red:function(val){return this.setChannel("rgb",0,val)},green:function(val){return this.setChannel("rgb",1,val)},blue:function(val){return this.setChannel("rgb",2,val)},hue:function(val){return val&&(val%=360,val=val<0?360+val:val),this.setChannel("hsl",0,val)},saturation:function(val){return this.setChannel("hsl",1,val)},lightness:function(val){return this.setChannel("hsl",2,val)},saturationv:function(val){return this.setChannel("hsv",1,val)},whiteness:function(val){return this.setChannel("hwb",1,val)},blackness:function(val){return this.setChannel("hwb",2,val)},value:function(val){return this.setChannel("hsv",2,val)},cyan:function(val){return this.setChannel("cmyk",0,val)},magenta:function(val){return this.setChannel("cmyk",1,val)},yellow:function(val){return this.setChannel("cmyk",2,val)},black:function(val){return this.setChannel("cmyk",3,val)},hexString:function(){return string.hexString(this.values.rgb)},rgbString:function(){return string.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return string.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return string.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return string.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return string.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return string.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return string.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var rgb=this.values.rgb,lum=[],i=0;i<rgb.length;i++){var chan=rgb[i]/255;lum[i]=chan<=.03928?chan/12.92:Math.pow((chan+.055)/1.055,2.4)}return.2126*lum[0]+.7152*lum[1]+.0722*lum[2]},contrast:function(color2){var lum1=this.luminosity(),lum2=color2.luminosity();return lum1>lum2?(lum1+.05)/(lum2+.05):(lum2+.05)/(lum1+.05)},level:function(color2){var contrastRatio=this.contrast(color2);return contrastRatio>=7.1?"AAA":contrastRatio>=4.5?"AA":""},dark:function(){var rgb=this.values.rgb,yiq=(299*rgb[0]+587*rgb[1]+114*rgb[2])/1e3;return yiq<128},light:function(){return!this.dark()},negate:function(){for(var rgb=[],i=0;i<3;i++)rgb[i]=255-this.values.rgb[i];return this.setValues("rgb",rgb),this},lighten:function(ratio){return this.values.hsl[2]+=this.values.hsl[2]*ratio,this.setValues("hsl",this.values.hsl),this},darken:function(ratio){return this.values.hsl[2]-=this.values.hsl[2]*ratio,this.setValues("hsl",this.values.hsl),this},saturate:function(ratio){return this.values.hsl[1]+=this.values.hsl[1]*ratio,this.setValues("hsl",this.values.hsl),this},desaturate:function(ratio){return this.values.hsl[1]-=this.values.hsl[1]*ratio,this.setValues("hsl",this.values.hsl),this},whiten:function(ratio){return this.values.hwb[1]+=this.values.hwb[1]*ratio,this.setValues("hwb",this.values.hwb),this},blacken:function(ratio){return this.values.hwb[2]+=this.values.hwb[2]*ratio,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var rgb=this.values.rgb,val=.3*rgb[0]+.59*rgb[1]+.11*rgb[2];return this.setValues("rgb",[val,val,val]),this},clearer:function(ratio){return this.setValues("alpha",this.values.alpha-this.values.alpha*ratio),this},opaquer:function(ratio){return this.setValues("alpha",this.values.alpha+this.values.alpha*ratio),this},rotate:function(degrees){var hue=this.values.hsl[0];return hue=(hue+degrees)%360,hue=hue<0?360+hue:hue,this.values.hsl[0]=hue,this.setValues("hsl",this.values.hsl),this},mix:function(mixinColor,weight){var color1=this,color2=mixinColor,p=void 0===weight?.5:weight,w=2*p-1,a=color1.alpha()-color2.alpha(),w1=((w*a===-1?w:(w+a)/(1+w*a))+1)/2,w2=1-w1;return this.rgb(w1*color1.red()+w2*color2.red(),w1*color1.green()+w2*color2.green(),w1*color1.blue()+w2*color2.blue()).alpha(color1.alpha()*p+color2.alpha()*(1-p))},toJSON:function(){return this.rgb()},clone:function(){var col=new Color;return col.values=clone(this.values),col}},Color.prototype.getValues=function(space){for(var vals={},i=0;i<space.length;i++)vals[space.charAt(i)]=this.values[space][i];return 1!==this.values.alpha&&(vals.a=this.values.alpha),vals},Color.prototype.setValues=function(space,vals){var i,spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},alpha=1;if("alpha"===space)alpha=vals;else if(vals.length)this.values[space]=vals.slice(0,space.length),alpha=vals[space.length];else if(void 0!==vals[space.charAt(0)]){for(i=0;i<space.length;i++)this.values[space][i]=vals[space.charAt(i)];
alpha=vals.a}else if(void 0!==vals[spaces[space][0]]){var chans=spaces[space];for(i=0;i<space.length;i++)this.values[space][i]=vals[chans[i]];alpha=vals.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0===alpha?this.values.alpha:alpha)),"alpha"===space)return!1;var capped;for(i=0;i<space.length;i++)capped=Math.max(0,Math.min(maxes[space][i],this.values[space][i])),this.values[space][i]=Math.round(capped);for(var sname in spaces)for(sname!==space&&(this.values[sname]=convert[space][sname](this.values[space])),i=0;i<sname.length;i++)capped=Math.max(0,Math.min(maxes[sname][i],this.values[sname][i])),this.values[sname][i]=Math.round(capped);return!0},Color.prototype.setSpace=function(space,args){var vals=args[0];return void 0===vals?this.getValues(space):("number"==typeof vals&&(vals=Array.prototype.slice.call(args)),this.setValues(space,vals),this)},Color.prototype.setChannel=function(space,index,val){return void 0===val?this.values[space][index]:val===this.values[space][index]?this:(this.values[space][index]=val,this.setValues(space,this.values[space]),this)},module.exports=Color},{clone:1,"color-convert":4,"color-string":7}],9:[function(require,module,exports){var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(exports){"use strict";function decode(elt){var code=elt.charCodeAt(0);return code===PLUS||code===PLUS_URL_SAFE?62:code===SLASH||code===SLASH_URL_SAFE?63:code<NUMBER?-1:code<NUMBER+10?code-NUMBER+26+26:code<UPPER+26?code-UPPER:code<LOWER+26?code-LOWER+26:void 0}function b64ToByteArray(b64){function push(v){arr[L++]=v}var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var len=b64.length;placeHolders="="===b64.charAt(len-2)?2:"="===b64.charAt(len-1)?1:0,arr=new Arr(3*b64.length/4-placeHolders),l=placeHolders>0?b64.length-4:b64.length;var L=0;for(i=0,j=0;i<l;i+=4,j+=3)tmp=decode(b64.charAt(i))<<18|decode(b64.charAt(i+1))<<12|decode(b64.charAt(i+2))<<6|decode(b64.charAt(i+3)),push((16711680&tmp)>>16),push((65280&tmp)>>8),push(255&tmp);return 2===placeHolders?(tmp=decode(b64.charAt(i))<<2|decode(b64.charAt(i+1))>>4,push(255&tmp)):1===placeHolders&&(tmp=decode(b64.charAt(i))<<10|decode(b64.charAt(i+1))<<4|decode(b64.charAt(i+2))>>2,push(tmp>>8&255),push(255&tmp)),arr}function uint8ToBase64(uint8){function encode(num){return lookup.charAt(num)}function tripletToBase64(num){return encode(num>>18&63)+encode(num>>12&63)+encode(num>>6&63)+encode(63&num)}var i,temp,length,extraBytes=uint8.length%3,output="";for(i=0,length=uint8.length-extraBytes;i<length;i+=3)temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output+=tripletToBase64(temp);switch(extraBytes){case 1:temp=uint8[uint8.length-1],output+=encode(temp>>2),output+=encode(temp<<4&63),output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1],output+=encode(temp>>10),output+=encode(temp>>4&63),output+=encode(temp<<2&63),output+="="}return output}var Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,PLUS="+".charCodeAt(0),SLASH="/".charCodeAt(0),NUMBER="0".charCodeAt(0),LOWER="a".charCodeAt(0),UPPER="A".charCodeAt(0),PLUS_URL_SAFE="-".charCodeAt(0),SLASH_URL_SAFE="_".charCodeAt(0);exports.toByteArray=b64ToByteArray,exports.fromByteArray=uint8ToBase64}("undefined"==typeof exports?this.base64js={}:exports)},{}],10:[function(require,module,exports){(function(global){"use strict";function typedArraySupport(){function Bar(){}try{var arr=new Uint8Array(1);return arr.foo=function(){return 42},arr.constructor=Bar,42===arr.foo()&&arr.constructor===Bar&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Buffer(arg){return this instanceof Buffer?(Buffer.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof arg?fromNumber(this,arg):"string"==typeof arg?fromString(this,arg,arguments.length>1?arguments[1]:"utf8"):fromObject(this,arg)):arguments.length>1?new Buffer(arg,arguments[1]):new Buffer(arg)}function fromNumber(that,length){if(that=allocate(that,length<0?0:0|checked(length)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<length;i++)that[i]=0;return that}function fromString(that,string,encoding){"string"==typeof encoding&&""!==encoding||(encoding="utf8");var length=0|byteLength(string,encoding);return that=allocate(that,length),that.write(string,encoding),that}function fromObject(that,object){if(Buffer.isBuffer(object))return fromBuffer(that,object);if(isArray(object))return fromArray(that,object);if(null==object)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(object.buffer instanceof ArrayBuffer)return fromTypedArray(that,object);if(object instanceof ArrayBuffer)return fromArrayBuffer(that,object)}return object.length?fromArrayLike(that,object):fromJsonObject(that,object)}function fromBuffer(that,buffer){var length=0|checked(buffer.length);return that=allocate(that,length),buffer.copy(that,0,0,length),that}function fromArray(that,array){var length=0|checked(array.length);that=allocate(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function fromTypedArray(that,array){var length=0|checked(array.length);that=allocate(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function fromArrayBuffer(that,array){return Buffer.TYPED_ARRAY_SUPPORT?(array.byteLength,that=Buffer._augment(new Uint8Array(array))):that=fromTypedArray(that,new Uint8Array(array)),that}function fromArrayLike(that,array){var length=0|checked(array.length);that=allocate(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function fromJsonObject(that,object){var array,length=0;"Buffer"===object.type&&isArray(object.data)&&(array=object.data,length=0|checked(array.length)),that=allocate(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function allocate(that,length){Buffer.TYPED_ARRAY_SUPPORT?(that=Buffer._augment(new Uint8Array(length)),that.__proto__=Buffer.prototype):(that.length=length,that._isBuffer=!0);var fromPool=0!==length&&length<=Buffer.poolSize>>>1;return fromPool&&(that.parent=rootParent),that}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function SlowBuffer(subject,encoding){if(!(this instanceof SlowBuffer))return new SlowBuffer(subject,encoding);var buf=new Buffer(subject,encoding);return delete buf.parent,buf}function byteLength(string,encoding){"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"binary":case"raw":case"raws":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if(start=0|start,end=void 0===end||end===1/0?this.length:0|end,encoding||(encoding="utf8"),start<0&&(start=0),end>this.length&&(end=this.length),end<=start)return"";for(;;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"binary":return binarySlice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;if(strLen%2!==0)throw new Error("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;i++){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))throw new Error("Invalid hex string");buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function binaryWrite(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:secondByte=buf[i+1],128===(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte,tempCodePoint>127&&(codePoint=tempCodePoint));break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128===(192&secondByte)&&128===(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte,tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint));break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128===(192&secondByte)&&128===(192&thirdByte)&&128===(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte,tempCodePoint>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint))}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++)ret+=String.fromCharCode(127&buf[i]);return ret}function binarySlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;i++)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError("buffer must be a Buffer instance");if(value>max||value<min)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;i++)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;i++)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(value>max||value<min)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range");if(offset<0)throw new RangeError("index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=stringtrim(str).replace(INVALID_BASE64_RE,""),str.length<2)return"";for(;str.length%4!==0;)str+="=";return str}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;i++){if(codePoint=string.charCodeAt(i),codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;i++)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);i++)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);i++)dst[i+offset]=src[i];return i}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("isarray");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.poolSize=8192;var rootParent={};Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT?(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array):(Buffer.prototype.length=void 0,Buffer.prototype.parent=void 0),Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len&&a[i]===b[i];)++i;return i!==len&&(x=a[i],y=b[i]),x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError("list argument must be an Array of Buffers.");if(0===list.length)return new Buffer(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;i++)length+=list[i].length;var buf=new Buffer(length),pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos),pos+=item.length}return buf},Buffer.byteLength=byteLength,Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?0:Buffer.compare(this,b)},Buffer.prototype.indexOf=function(val,byteOffset){function arrayIndexOf(arr,val,byteOffset){for(var foundIndex=-1,i=0;byteOffset+i<arr.length;i++)if(arr[byteOffset+i]===val[foundIndex===-1?0:i-foundIndex]){if(foundIndex===-1&&(foundIndex=i),i-foundIndex+1===val.length)return byteOffset+foundIndex}else foundIndex=-1;return-1}if(byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset>>=0,0===this.length)return-1;if(byteOffset>=this.length)return-1;if(byteOffset<0&&(byteOffset=Math.max(this.length+byteOffset,0)),"string"==typeof val)return 0===val.length?-1:String.prototype.indexOf.call(this,val,byteOffset);if(Buffer.isBuffer(val))return arrayIndexOf(this,val,byteOffset);if("number"==typeof val)return Buffer.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,val,byteOffset):arrayIndexOf(this,[val],byteOffset);throw new TypeError("val must be string, number or Buffer")},Buffer.prototype.get=function(offset){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(offset)},Buffer.prototype.set=function(v,offset){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(v,offset)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else if(isFinite(offset))offset=0|offset,isFinite(length)?(length=0|length,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=0|length,length=swap}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"binary":return binaryWrite(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=void 0===end?len:~~end,start<0?(start+=len,start<0&&(start=0)):start>len&&(start=len),end<0?(end+=len,end<0&&(end=0)):end>len&&(end=len),end<start&&(end=start);var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT)newBuf=Buffer._augment(this.subarray(start,end));else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;i++)newBuf[i]=this[i+start]}return newBuf.length&&(newBuf.parent=this.parent||this),newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?(255-this[offset]+1)*-1:this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){value=+value,offset=0|offset,byteLength=0|byteLength,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){value=+value,offset=0|offset,byteLength=0|byteLength,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=value<0?1:0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=value<0?1:0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;i--)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;i++)target[i+targetStart]=this[i+start];else target._set(this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(value,start,end){if(value||(value=0),start||(start=0),end||(end=this.length),end<start)throw new RangeError("end < start");if(end!==start&&0!==this.length){if(start<0||start>=this.length)throw new RangeError("start out of bounds");if(end<0||end>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof value)for(i=start;i<end;i++)this[i]=value;else{var bytes=utf8ToBytes(value.toString()),len=bytes.length;for(i=start;i<end;i++)this[i]=bytes[i%len]}return this}},Buffer.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(Buffer.TYPED_ARRAY_SUPPORT)return new Buffer(this).buffer;for(var buf=new Uint8Array(this.length),i=0,len=buf.length;i<len;i+=1)buf[i]=this[i];return buf.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var BP=Buffer.prototype;Buffer._augment=function(arr){return arr.constructor=Buffer,arr._isBuffer=!0,arr._set=arr.set,arr.get=BP.get,arr.set=BP.set,arr.write=BP.write,arr.toString=BP.toString,arr.toLocaleString=BP.toString,arr.toJSON=BP.toJSON,arr.equals=BP.equals,arr.compare=BP.compare,arr.indexOf=BP.indexOf,arr.copy=BP.copy,arr.slice=BP.slice,arr.readUIntLE=BP.readUIntLE,arr.readUIntBE=BP.readUIntBE,arr.readUInt8=BP.readUInt8,arr.readUInt16LE=BP.readUInt16LE,arr.readUInt16BE=BP.readUInt16BE,arr.readUInt32LE=BP.readUInt32LE,arr.readUInt32BE=BP.readUInt32BE,arr.readIntLE=BP.readIntLE,arr.readIntBE=BP.readIntBE,arr.readInt8=BP.readInt8,arr.readInt16LE=BP.readInt16LE,arr.readInt16BE=BP.readInt16BE,arr.readInt32LE=BP.readInt32LE,arr.readInt32BE=BP.readInt32BE,arr.readFloatLE=BP.readFloatLE,arr.readFloatBE=BP.readFloatBE,arr.readDoubleLE=BP.readDoubleLE,arr.readDoubleBE=BP.readDoubleBE,arr.writeUInt8=BP.writeUInt8,arr.writeUIntLE=BP.writeUIntLE,arr.writeUIntBE=BP.writeUIntBE,arr.writeUInt16LE=BP.writeUInt16LE,arr.writeUInt16BE=BP.writeUInt16BE,arr.writeUInt32LE=BP.writeUInt32LE,arr.writeUInt32BE=BP.writeUInt32BE,arr.writeIntLE=BP.writeIntLE,arr.writeIntBE=BP.writeIntBE,arr.writeInt8=BP.writeInt8,arr.writeInt16LE=BP.writeInt16LE,arr.writeInt16BE=BP.writeInt16BE,arr.writeInt32LE=BP.writeInt32LE,arr.writeInt32BE=BP.writeInt32BE,arr.writeFloatLE=BP.writeFloatLE,arr.writeFloatBE=BP.writeFloatBE,arr.writeDoubleLE=BP.writeDoubleLE,arr.writeDoubleBE=BP.writeDoubleBE,arr.fill=BP.fill,arr.inspect=BP.inspect,arr.toArrayBuffer=BP.toArrayBuffer,arr};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":9,ieee754:12,isarray:11}],11:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},{}],12:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],
i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:(s?-1:1)*(1/0);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],13:[function(require,module,exports){(function(global){!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.mercury=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";function input(names){return names?MultipleEvent(names):SingleEvent()}function state(obj){var copy=extend(obj),$channels=copy.channels,$handles=copy.handles;$channels?copy.channels=mercury.value(null):$handles&&(copy.handles=mercury.value(null));var observ=mercury.struct(copy);return $channels?observ.channels.set(mercury.channels($channels,observ)):$handles&&observ.handles.set(mercury.channels($handles,observ)),observ}function channels(funcs,context){function createHandle(acc,name){var handle=mercury.Delegator.allocateHandle(funcs[name].bind(null,context));return acc[name]=handle,acc}return Object.keys(funcs).reduce(createHandle,{})}function app(elem,observ,render,opts){mercury.Delegator(opts);var loop=mercury.main(observ(),render,extend({diff:mercury.diff,create:mercury.create,patch:mercury.patch},opts));return elem&&elem.appendChild(loop.target),observ(loop.update)}var SingleEvent=_dereq_("geval/single"),MultipleEvent=_dereq_("geval/multiple"),extend=_dereq_("xtend"),mercury=module.exports={main:_dereq_("main-loop"),app:app,BaseEvent:_dereq_("value-event/base-event"),Delegator:_dereq_("dom-delegator"),input:input,handles:channels,channels:channels,event:_dereq_("value-event/event"),send:_dereq_("value-event/event"),valueEvent:_dereq_("value-event/value"),sendValue:_dereq_("value-event/value"),submitEvent:_dereq_("value-event/submit"),sendSubmit:_dereq_("value-event/submit"),changeEvent:_dereq_("value-event/change"),sendChange:_dereq_("value-event/change"),keyEvent:_dereq_("value-event/key"),sendKey:_dereq_("value-event/key"),clickEvent:_dereq_("value-event/click"),sendClick:_dereq_("value-event/click"),array:_dereq_("observ-array"),struct:_dereq_("observ-struct"),hash:_dereq_("observ-struct"),varhash:_dereq_("observ-varhash"),value:_dereq_("observ"),state:state,diff:_dereq_("virtual-dom/vtree/diff"),patch:_dereq_("virtual-dom/vdom/patch"),partial:_dereq_("vdom-thunk"),create:_dereq_("virtual-dom/vdom/create-element"),h:_dereq_("virtual-dom/virtual-hyperscript"),computed:_dereq_("observ/computed"),watch:_dereq_("observ/watch")}},{"dom-delegator":6,"geval/multiple":15,"geval/single":16,"main-loop":18,observ:36,"observ-array":24,"observ-struct":31,"observ-varhash":33,"observ/computed":35,"observ/watch":37,"value-event/base-event":41,"value-event/change":42,"value-event/click":43,"value-event/event":44,"value-event/key":45,"value-event/submit":51,"value-event/value":52,"vdom-thunk":54,"virtual-dom/vdom/create-element":64,"virtual-dom/vdom/patch":67,"virtual-dom/virtual-hyperscript":71,"virtual-dom/vtree/diff":84,xtend:87}],2:[function(_dereq_,module,exports){},{}],3:[function(_dereq_,module,exports){!function(app){"use strict";var namespace="cuid",c=0,blockSize=4,base=36,discreteValues=Math.pow(base,blockSize),pad=function(num,size){var s="000000000"+num;return s.substr(s.length-size)},randomBlock=function(){return pad((Math.random()*discreteValues<<0).toString(base),blockSize)},safeCounter=function(){return c=c<discreteValues?c:0,c++,c-1},api=function(){var counter,letter="c",timestamp=(new Date).getTime().toString(base),fingerprint=api.fingerprint(),random=randomBlock()+randomBlock();return counter=pad(safeCounter().toString(base),blockSize),letter+timestamp+counter+fingerprint+random};api.slug=function(){var counter,date=(new Date).getTime().toString(36),print=api.fingerprint().slice(0,1)+api.fingerprint().slice(-1),random=randomBlock().slice(-2);return counter=safeCounter().toString(36).slice(-4),date.slice(-2)+counter+print+random},api.globalCount=function(){var cache=function(){var i,count=0;for(i in window)count++;return count}();return api.globalCount=function(){return cache},cache},api.fingerprint=function(){return pad((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+api.globalCount().toString(36),4)},app.register?app.register(namespace,api):"undefined"!=typeof module?module.exports=api:app[namespace]=api}(this.applitude||this)},{}],4:[function(_dereq_,module,exports){function addEvent(target,type,handler){var events=EvStore(target),event=events[type];event?Array.isArray(event)?event.indexOf(handler)===-1&&event.push(handler):event!==handler&&(events[type]=[event,handler]):events[type]=handler}var EvStore=_dereq_("ev-store");module.exports=addEvent},{"ev-store":7}],5:[function(_dereq_,module,exports){function DOMDelegator(document){return this instanceof DOMDelegator?(document=document||globalDocument,this.target=document.documentElement,this.events={},this.rawEventListeners={},void(this.globalListeners={})):new DOMDelegator(document)}function createHandler(eventName,delegator){function handler(ev){var globalHandlers=globalListeners[eventName]||[];if(globalHandlers.length>0){var globalEvent=new ProxyEvent(ev);globalEvent.currentTarget=delegatorTarget,callListeners(globalHandlers,globalEvent)}findAndInvokeListeners(ev.target,ev,eventName)}var globalListeners=delegator.globalListeners,delegatorTarget=delegator.target;return handler}function findAndInvokeListeners(elem,ev,eventName){var listener=getListener(elem,eventName);if(listener&&listener.handlers.length>0){var listenerEvent=new ProxyEvent(ev);if(listenerEvent.currentTarget=listener.currentTarget,callListeners(listener.handlers,listenerEvent),listenerEvent._bubbles){var nextTarget=listener.currentTarget.parentNode;findAndInvokeListeners(nextTarget,ev,eventName)}}}function getListener(target,type){if(null===target)return null;var events=EvStore(target),handler=events[type],allHandler=events.event;if(!handler&&!allHandler)return getListener(target.parentNode,type);var handlers=[].concat(handler||[],allHandler||[]);return new Listener(target,handlers)}function callListeners(handlers,ev){handlers.forEach(function(handler){if("function"==typeof handler)handler(ev);else if("function"==typeof handler.handleEvent)handler.handleEvent(ev);else{if("dom-delegator-handle"!==handler.type)throw new Error("dom-delegator: unknown handler found: "+JSON.stringify(handlers));HANDLER_STORE(handler).func(ev)}})}function Listener(target,handlers){this.currentTarget=target,this.handlers=handlers}function Handle(){this.type="dom-delegator-handle"}var globalDocument=_dereq_("global/document"),EvStore=_dereq_("ev-store"),createStore=_dereq_("weakmap-shim/create-store"),addEvent=_dereq_("./add-event.js"),removeEvent=_dereq_("./remove-event.js"),ProxyEvent=_dereq_("./proxy-event.js"),HANDLER_STORE=createStore();module.exports=DOMDelegator,DOMDelegator.prototype.addEventListener=addEvent,DOMDelegator.prototype.removeEventListener=removeEvent,DOMDelegator.allocateHandle=function(func){var handle=new Handle;return HANDLER_STORE(handle).func=func,handle},DOMDelegator.transformHandle=function(handle,broadcast){var func=HANDLER_STORE(handle).func;return this.allocateHandle(function(ev){broadcast(ev,func)})},DOMDelegator.prototype.addGlobalEventListener=function(eventName,fn){var listeners=this.globalListeners[eventName]||[];listeners.indexOf(fn)===-1&&listeners.push(fn),this.globalListeners[eventName]=listeners},DOMDelegator.prototype.removeGlobalEventListener=function(eventName,fn){var listeners=this.globalListeners[eventName]||[],index=listeners.indexOf(fn);index!==-1&&listeners.splice(index,1)},DOMDelegator.prototype.listenTo=function(eventName){if(eventName in this.events||(this.events[eventName]=0),this.events[eventName]++,1===this.events[eventName]){var listener=this.rawEventListeners[eventName];listener||(listener=this.rawEventListeners[eventName]=createHandler(eventName,this)),this.target.addEventListener(eventName,listener,!0)}},DOMDelegator.prototype.unlistenTo=function(eventName){if(eventName in this.events||(this.events[eventName]=0),0===this.events[eventName])throw new Error("already unlistened to event.");if(this.events[eventName]--,0===this.events[eventName]){var listener=this.rawEventListeners[eventName];if(!listener)throw new Error("dom-delegator#unlistenTo: cannot unlisten to "+eventName);this.target.removeEventListener(eventName,listener,!0)}}},{"./add-event.js":4,"./proxy-event.js":12,"./remove-event.js":13,"ev-store":7,"global/document":17,"weakmap-shim/create-store":85}],6:[function(_dereq_,module,exports){function Delegator(opts){opts=opts||{};var document=opts.document||globalDocument,cacheKey=document[cacheTokenKey];cacheKey||(cacheKey=document[cacheTokenKey]=cuid());var delegator=delegatorCache.delegators[cacheKey];if(delegator||(delegator=delegatorCache.delegators[cacheKey]=new DOMDelegator(document)),opts.defaultEvents!==!1)for(var i=0;i<commonEvents.length;i++)delegator.listenTo(commonEvents[i]);return delegator}var Individual=_dereq_("individual"),cuid=_dereq_("cuid"),globalDocument=_dereq_("global/document"),DOMDelegator=_dereq_("./dom-delegator.js"),versionKey="13",cacheKey="__DOM_DELEGATOR_CACHE@"+versionKey,cacheTokenKey="__DOM_DELEGATOR_CACHE_TOKEN@"+versionKey,delegatorCache=Individual(cacheKey,{delegators:{}}),commonEvents=["blur","change","click","contextmenu","dblclick","error","focus","focusin","focusout","input","keydown","keypress","keyup","load","mousedown","mouseup","resize","select","submit","touchcancel","touchend","touchstart","unload"];module.exports=Delegator,Delegator.allocateHandle=DOMDelegator.allocateHandle,Delegator.transformHandle=DOMDelegator.transformHandle},{"./dom-delegator.js":5,cuid:3,"global/document":17,individual:10}],7:[function(_dereq_,module,exports){"use strict";function EvStore(elem){var hash=elem[hashKey];return hash||(hash=elem[hashKey]={}),hash}var OneVersionConstraint=_dereq_("individual/one-version"),MY_VERSION="7";OneVersionConstraint("ev-store",MY_VERSION);var hashKey="__EV_STORE_KEY@"+MY_VERSION;module.exports=EvStore},{"individual/one-version":9}],8:[function(_dereq_,module,exports){(function(global){"use strict";function Individual(key,value){return key in root?root[key]:(root[key]=value,value)}var root="undefined"!=typeof window?window:"undefined"!=typeof global?global:{};module.exports=Individual}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(_dereq_,module,exports){"use strict";function OneVersion(moduleName,version,defaultValue){var key="__INDIVIDUAL_ONE_VERSION_"+moduleName,enforceKey=key+"_ENFORCE_SINGLETON",versionValue=Individual(enforceKey,version);if(versionValue!==version)throw new Error("Can only have one copy of "+moduleName+".\nYou already have version "+versionValue+" installed.\nThis means you cannot install version "+version);return Individual(key,defaultValue)}var Individual=_dereq_("./index.js");module.exports=OneVersion},{"./index.js":8}],10:[function(_dereq_,module,exports){(function(global){function Individual(key,value){return root[key]?root[key]:(Object.defineProperty(root,key,{value:value,configurable:!0}),value)}var root="undefined"!=typeof window?window:"undefined"!=typeof global?global:{};module.exports=Individual}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(_dereq_,module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],12:[function(_dereq_,module,exports){function ProxyEvent(ev){if(!(this instanceof ProxyEvent))return new ProxyEvent(ev);if(rkeyEvent.test(ev.type))return new KeyEvent(ev);if(rmouseEvent.test(ev.type))return new MouseEvent(ev);for(var i=0;i<ALL_PROPS.length;i++){var propKey=ALL_PROPS[i];this[propKey]=ev[propKey]}this._rawEvent=ev,this._bubbles=!1}function MouseEvent(ev){for(var i=0;i<ALL_PROPS.length;i++){var propKey=ALL_PROPS[i];this[propKey]=ev[propKey]}for(var j=0;j<MOUSE_PROPS.length;j++){var mousePropKey=MOUSE_PROPS[j];this[mousePropKey]=ev[mousePropKey]}this._rawEvent=ev}function KeyEvent(ev){for(var i=0;i<ALL_PROPS.length;i++){var propKey=ALL_PROPS[i];this[propKey]=ev[propKey]}for(var j=0;j<KEY_PROPS.length;j++){var keyPropKey=KEY_PROPS[j];this[keyPropKey]=ev[keyPropKey]}this._rawEvent=ev}var inherits=_dereq_("inherits"),ALL_PROPS=["altKey","bubbles","cancelable","ctrlKey","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","type","view","which"],KEY_PROPS=["char","charCode","key","keyCode"],MOUSE_PROPS=["button","buttons","clientX","clientY","layerX","layerY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement"],rkeyEvent=/^key|input/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/;module.exports=ProxyEvent,ProxyEvent.prototype.preventDefault=function(){this._rawEvent.preventDefault()},ProxyEvent.prototype.startPropagation=function(){this._bubbles=!0},inherits(MouseEvent,ProxyEvent),inherits(KeyEvent,ProxyEvent)},{inherits:11}],13:[function(_dereq_,module,exports){function removeEvent(target,type,handler){var events=EvStore(target),event=events[type];if(event)if(Array.isArray(event)){var index=event.indexOf(handler);index!==-1&&event.splice(index,1)}else event===handler&&(events[type]=null)}var EvStore=_dereq_("ev-store");module.exports=removeEvent},{"ev-store":7}],14:[function(_dereq_,module,exports){function Event(){function broadcast(value){for(var i=0;i<listeners.length;i++)listeners[i](value)}function event(listener){function removeListener(){var index=listeners.indexOf(listener);index!==-1&&listeners.splice(index,1)}return listeners.push(listener),removeListener}var listeners=[];return{broadcast:broadcast,listen:event}}module.exports=Event},{}],15:[function(_dereq_,module,exports){function multiple(names){return names.reduce(function(acc,name){return acc[name]=event(),acc},{})}var event=_dereq_("./single.js");module.exports=multiple},{"./single.js":16}],16:[function(_dereq_,module,exports){function Single(){var tuple=Event();return function(value){return"function"==typeof value?tuple.listen(value):tuple.broadcast(value)}}var Event=_dereq_("./event.js");module.exports=Single},{"./event.js":14}],17:[function(_dereq_,module,exports){(function(global){var topLevel="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},minDoc=_dereq_("min-document");if("undefined"!=typeof document)module.exports=document;else{var doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc),module.exports=doccy}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":2}],18:[function(_dereq_,module,exports){function main(initialState,view,opts){function update(state){if(inRenderingTransaction)throw InvalidUpdateInRender({diff:state._diff,stringDiff:JSON.stringify(state._diff)});null!==currentState||redrawScheduled||(redrawScheduled=!0,raf(redraw)),currentState=state}function redraw(){if(redrawScheduled=!1,null!==currentState){inRenderingTransaction=!0;var newTree=view(currentState);if(opts.createOnly)inRenderingTransaction=!1,create(newTree,opts);else{var patches=diff(tree,newTree,opts);inRenderingTransaction=!1,target=patch(target,patches,opts)}tree=newTree,currentState=null}}opts=opts||{};var currentState=initialState,create=opts.create,diff=opts.diff,patch=opts.patch,redrawScheduled=!1,tree=opts.initialTree||view(currentState),target=opts.target||create(tree,opts),inRenderingTransaction=!1;return currentState=null,{target:target,update:update}}var raf=_dereq_("raf"),TypedError=_dereq_("error/typed"),InvalidUpdateInRender=TypedError({type:"main-loop.invalid.update.in-render",message:"main-loop: Unexpected update occurred in loop.\nWe are currently rendering a view, you can't change state right now.\nThe diff is: {stringDiff}.\nSUGGESTED FIX: find the state mutation in your view or rendering function and remove it.\nThe view should not have any side effects.\n",diff:null,stringDiff:null});module.exports=main},{"error/typed":21,raf:39}],19:[function(_dereq_,module,exports){function walk(obj){return obj&&"object"==typeof obj?isDate(obj)||isRegex(obj)?obj:isArray(obj)?map(obj,walk):reduce(objectKeys(obj),function(acc,key){var camel=camelCase(key);return acc[camel]=walk(obj[key]),acc},{}):obj}function camelCase(str){return str.replace(/[_.-](\w|$)/g,function(_,x){return x.toUpperCase()})}function map(xs,f){if(xs.map)return xs.map(f);for(var res=[],i=0;i<xs.length;i++)res.push(f(xs[i],i));return res}function reduce(xs,f,acc){if(xs.reduce)return xs.reduce(f,acc);for(var i=0;i<xs.length;i++)acc=f(acc,xs[i],i);return acc}module.exports=function(obj){return"string"==typeof obj?camelCase(obj):walk(obj)};var isArray=Array.isArray||function(obj){return"[object Array]"===Object.prototype.toString.call(obj)},isDate=function(obj){return"[object Date]"===Object.prototype.toString.call(obj)},isRegex=function(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},has=Object.prototype.hasOwnProperty,objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)has.call(obj,key)&&keys.push(key);return keys}},{}],20:[function(_dereq_,module,exports){function template(string){var args;return args=2===arguments.length&&"object"==typeof arguments[1]?arguments[1]:slice.call(arguments,1),args&&args.hasOwnProperty||(args={}),string.replace(nargs,function(match,i,index){var result;return"{"===string[index-1]&&"}"===string[index+match.length]?i:(result=args.hasOwnProperty(i)?args[i]:null,null===result||void 0===result?"":result)})}var nargs=/\{([0-9a-zA-Z]+)\}/g,slice=Array.prototype.slice;module.exports=template},{}],21:[function(_dereq_,module,exports){function TypedError(args){function createError(opts){var result=new Error;Object.defineProperty(result,"type",{value:result.type,enumerable:!0,writable:!0,configurable:!0});var options=extend({},args,opts);return extend(result,options),result.message=template(message,options),result}if(!args)throw new Error("args is required");if(!args.type)throw new Error("args.type is required");if(!args.message)throw new Error("args.message is required");var message=args.message;if(args.type&&!args.name){var errorName=camelize(args.type)+"Error";args.name=errorName[0].toUpperCase()+errorName.substr(1)}return extend(createError,args),createError._name=args.name,createError}var camelize=_dereq_("camelize"),template=_dereq_("string-template"),extend=_dereq_("xtend/mutable");module.exports=TypedError},{camelize:19,"string-template":20,"xtend/mutable":88}],22:[function(_dereq_,module,exports){function addListener(observArray,observ){var list=observArray._list;return observ(function(value){var valueList=observArray().slice(),index=list.indexOf(observ);if(index===-1){var message="observ-array: Unremoved observ listener",err=new Error(message);throw err.list=list,err.index=index,err.observ=observ,err}valueList.splice(index,1,value),setNonEnumerable(valueList,"_diff",[[index,1,value]]),observArray._observSet(valueList)})}var setNonEnumerable=_dereq_("./lib/set-non-enumerable.js");module.exports=addListener},{"./lib/set-non-enumerable.js":25}],23:[function(_dereq_,module,exports){function ArrayMethods(obs){return obs.push=observArrayPush,obs.pop=observArrayPop,obs.shift=observArrayShift,obs.unshift=observArrayUnshift,obs.reverse=notImplemented,obs.sort=notImplemented,methods.forEach(function(tuple){obs[tuple[0]]=tuple[1]}),obs}function observArrayPush(){var args=slice.call(arguments);return args.unshift(this._list.length,0),this.splice.apply(this,args),this._list.length}function observArrayPop(){return this.splice(this._list.length-1,1)[0]}function observArrayShift(){return this.splice(0,1)[0]}function observArrayUnshift(){var args=slice.call(arguments);return args.unshift(0,0),this.splice.apply(this,args),this._list.length}function notImplemented(){throw new Error("Pull request welcome")}var ObservArray=_dereq_("./index.js"),slice=Array.prototype.slice,ARRAY_METHODS=["concat","slice","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","some","toString","toLocaleString"],methods=ARRAY_METHODS.map(function(name){return[name,function(){var res=this._list[name].apply(this._list,arguments);return res&&Array.isArray(res)&&(res=ObservArray(res)),res}]});module.exports=ArrayMethods},{"./index.js":24}],24:[function(_dereq_,module,exports){function ObservArray(initialList){var list=initialList,initialState=[];list.forEach(function(observ,index){initialState[index]="function"==typeof observ?observ():observ});var obs=Observ(initialState);obs.splice=splice,obs._observSet=obs.set,obs.set=set,obs.get=get,obs.getLength=getLength,obs.put=put,obs.transaction=transaction,obs._list=list;var removeListeners=list.map(function(observ){return"function"==typeof observ?addListener(obs,observ):null});return obs._removeListeners=removeListeners,obs._type="observ-array",obs._version="3",ArrayMethods(obs,list)}function get(index){return this._list[index]}function getLength(){return this._list.length}var Observ=_dereq_("observ");module.exports=ObservArray;var splice=_dereq_("./splice.js"),put=_dereq_("./put.js"),set=_dereq_("./set.js"),transaction=_dereq_("./transaction.js"),ArrayMethods=_dereq_("./array-methods.js"),addListener=_dereq_("./add-listener.js")},{"./add-listener.js":22,"./array-methods.js":23,"./put.js":27,"./set.js":28,"./splice.js":29,"./transaction.js":30,observ:36}],25:[function(_dereq_,module,exports){function setNonEnumerable(object,key,value){Object.defineProperty(object,key,{value:value,writable:!0,configurable:!0,enumerable:!1})}module.exports=setNonEnumerable},{}],26:[function(_dereq_,module,exports){function head(a){return a[0]}function last(a){return a[a.length-1]}function tail(a){return a.slice(1)}function retreat(e){return e.pop()}function hasLength(e){return e.length}function any(ary,test){for(var i=0;i<ary.length;i++)if(test(ary[i]))return!0;return!1}function score(a){return a.reduce(function(s,a){return s+a.length+a[1]+1},0)}function best(a,b){return score(a)<=score(b)?a:b}function _equal(a,b){if(a&&!b)return!1;if(Array.isArray(a)&&a.length!=b.length)return!1;if(a&&"object"==typeof a){for(var i in a)if(!_equal(a[i],b[i]))return!1;for(var i in b)if(!_equal(a[i],b[i]))return!1;return!0}return a==b}function getArgs(args){return 1==args.length?args[0]:[].slice.call(args)}function oddElement(ary,cmp){function guess(a){var odd=-1;c=0;for(var i=a;i<ary.length;i++)cmp(ary[a],ary[i])||(odd=i,c++);return c>1?-1:odd}var c,g=guess(0);return-1!=g?g:(guess(1),0==c?0:-1)}var exports=module.exports=function(deps,exports){function resolve(changes){rules.length;for(var i in rules){var c=rules[i]&&rules[i](changes);if(c)return c}return changes.splice(1,1),{"?":changes}}var equal=deps&&deps.equal||_equal;exports=exports||{},exports.lcs=function lcs(){function key(a,b){return a.length+":"+b.length}function recurse(a,b){if(!a.length||!b.length)return[];if(cache[key(a,b)])return cache[key(a,b)];if(equal(a[0],b[0]))return[head(a)].concat(recurse(tail(a),tail(b)));var _a=recurse(tail(a),b),_b=recurse(a,tail(b));return cache[key(a,b)]=_a.length>_b.length?_a:_b}var cache={},args=getArgs(arguments),a=args[0],b=args[1];if(args.length>2)return args.push(lcs(args.shift(),args.shift())),lcs(args);for(var start=0,end=0,i=0;i<a.length&&i<b.length&&equal(a[i],b[i]);i++)start=i+1;if(a.length===start)return a.slice();for(var i=0;i<a.length-start&&i<b.length-start&&equal(a[a.length-1-i],b[b.length-1-i]);i++)end=i;var middleA=a.slice(start,a.length-end),middleB=b.slice(start,b.length-end);return a.slice(0,start).concat(recurse(middleA,middleB)).concat(a.slice(a.length-end))},exports.chunk=function(q,build){function matchLcs(e){return!(e.length&&!lcs.length||!e.length&&lcs.length)&&(equal(last(e),last(lcs))||e.length+lcs.length===0)}for(var q=q.map(function(e){return e.slice()}),lcs=exports.lcs.apply(null,q),all=[lcs].concat(q);any(q,hasLength);){for(;q.every(matchLcs)&&q.every(hasLength);)all.forEach(retreat);var c=!1,unstable=q.map(function(e){for(var change=[];!matchLcs(e);)change.unshift(retreat(e)),c=!0;return change});c&&build(q[0].length,unstable)}},exports.optimisticDiff=function(a,b){for(var M=Math.max(a.length,b.length),m=Math.min(a.length,b.length),patch=[],i=0;i<M;i++)if(a[i]!==b[i]){for(var cur=[i,0],deletes=0;a[i]!==b[i]&&i<m;)cur[1]=++deletes,cur.push(b[i++]);i>=m&&(a.length>b.length?cur[1]+=a.length-b.length:a.length<b.length&&(cur=cur.concat(b.slice(a.length)))),patch.push(cur)}return patch},exports.diff=function(a,b){var optimistic=exports.optimisticDiff(a,b),changes=[];return exports.chunk([a,b],function(index,unstable){var del=unstable.shift().length,insert=unstable.shift();changes.push([index,del].concat(insert))}),best(optimistic,changes)},exports.patch=function(a,changes,mutate){return mutate!==!0&&(a=a.slice(a)),changes.forEach(function(change){[].splice.apply(a,change)}),a},exports.merge=function(){var args=getArgs(arguments),patch=exports.diff3(args);return exports.patch(args[0],patch)},exports.diff3=function(){var args=getArgs(arguments),r=[];return exports.chunk(args,function(index,unstable){var mine=unstable[0],insert=resolve(unstable);equal(mine,insert)||r.push([index,mine.length].concat(insert))}),r},exports.oddOneOut=function(changes){changes=changes.slice(),changes.unshift(changes.splice(1,1)[0]);var i=oddElement(changes,equal);return 0==i?changes[1]:~i?changes[i]:void 0},exports.insertMergeOverDelete=function(changes){changes=changes.slice(),changes.splice(1,1);for(var nonempty,i=0;i<changes.length;i++)if(changes[i].length){if(nonempty)return;nonempty=changes[i]}return nonempty};var rules=deps&&deps.rules||[exports.oddOneOut,exports.insertMergeOverDelete];return exports};exports(null,exports)},{}],27:[function(_dereq_,module,exports){function put(index,value){var obs=this,valueList=obs().slice(),originalLength=valueList.length;valueList[index]="function"==typeof value?value():value,obs._list[index]=value;var removeListener=obs._removeListeners[index];removeListener&&removeListener(),obs._removeListeners[index]="function"==typeof value?addListener(obs,value):null;var valueArgs=index<originalLength?[index,1,valueList[index]]:[index,0,valueList[index]];return setNonEnumerable(valueList,"_diff",[valueArgs]),obs._observSet(valueList),value}var addListener=_dereq_("./add-listener.js"),setNonEnumerable=_dereq_("./lib/set-non-enumerable.js");module.exports=put},{"./add-listener.js":22,"./lib/set-non-enumerable.js":25}],28:[function(_dereq_,module,exports){function set(rawList){Array.isArray(rawList)||(rawList=[]);var obs=this,changes=adiff.diff(obs._list,rawList),valueList=obs().slice(),valueChanges=changes.map(applyPatch.bind(obs,valueList));return setNonEnumerable(valueList,"_diff",valueChanges),obs._observSet(valueList),changes}function applyPatch(valueList,args){var obs=this,valueArgs=args.map(unpack);valueList.splice.apply(valueList,valueArgs),obs._list.splice.apply(obs._list,args);var extraRemoveListeners=args.slice(2).map(function(observ){return"function"==typeof observ?addListener(obs,observ):null});extraRemoveListeners.unshift(args[0],args[1]);var removedListeners=obs._removeListeners.splice.apply(obs._removeListeners,extraRemoveListeners);return removedListeners.forEach(function(removeObservListener){removeObservListener&&removeObservListener()}),valueArgs}function unpack(value,index){return 0===index||1===index?value:"function"==typeof value?value():value}var addListener=_dereq_("./add-listener.js"),setNonEnumerable=_dereq_("./lib/set-non-enumerable.js"),adiff=_dereq_("adiff");module.exports=set},{"./add-listener.js":22,"./lib/set-non-enumerable.js":25,adiff:26}],29:[function(_dereq_,module,exports){function splice(index,amount){var obs=this,args=slice.call(arguments,0),valueList=obs().slice(),valueArgs=args.map(function(value,index){return 0===index||1===index?value:"function"==typeof value?value():value});valueList.splice.apply(valueList,valueArgs);var removed=obs._list.splice.apply(obs._list,args),extraRemoveListeners=args.slice(2).map(function(observ){return"function"==typeof observ?addListener(obs,observ):null});extraRemoveListeners.unshift(args[0],args[1]);var removedListeners=obs._removeListeners.splice.apply(obs._removeListeners,extraRemoveListeners);return removedListeners.forEach(function(removeObservListener){removeObservListener&&removeObservListener()}),setNonEnumerable(valueList,"_diff",[valueArgs]),obs._observSet(valueList),removed}var slice=Array.prototype.slice,addListener=_dereq_("./add-listener.js"),setNonEnumerable=_dereq_("./lib/set-non-enumerable.js");module.exports=splice},{"./add-listener.js":22,"./lib/set-non-enumerable.js":25}],30:[function(_dereq_,module,exports){function transaction(func){var obs=this,rawList=obs._list.slice();if(func(rawList)!==!1)return obs.set(rawList)}module.exports=transaction},{}],31:[function(_dereq_,module,exports){function setNonEnumerable(object,key,value){Object.defineProperty(object,key,{value:value,writable:!0,configurable:!0,enumerable:!1})}function ObservStruct(struct){var keys=Object.keys(struct),initialState={},currentTransaction=NO_TRANSACTION,nestedTransaction=NO_TRANSACTION;keys.forEach(function(key){if(blackList.indexOf(key)!==-1)throw new Error("cannot create an observ-struct with a key named '"+key+"'.\n"+blackListReasons[key]);var observ=struct[key];initialState[key]="function"==typeof observ?observ():observ});var obs=Observ(initialState);keys.forEach(function(key){var observ=struct[key];obs[key]=observ,"function"==typeof observ&&observ(function(value){if(nestedTransaction!==value){var state=extend(obs());state[key]=value;var diff={};diff[key]=value&&value._diff?value._diff:value,setNonEnumerable(state,"_diff",diff),currentTransaction=state,obs.set(state),currentTransaction=NO_TRANSACTION}})});var _set=obs.set;return obs.set=function(value){if(currentTransaction===value)return _set(value);var newState=extend(value);setNonEnumerable(newState,"_diff",value),_set(newState)},obs(function(newState){currentTransaction!==newState&&keys.forEach(function(key){var observ=struct[key],newObservValue=newState[key];"function"==typeof observ&&observ()!==newObservValue&&(nestedTransaction=newObservValue,observ.set(newState[key]),nestedTransaction=NO_TRANSACTION)})}),obs._type="observ-struct",obs._version="5",obs}var Observ=_dereq_("observ"),extend=_dereq_("xtend"),blackList=["name","_diff","_type","_version"],blackListReasons={name:"Clashes with `Function.prototype.name`.\n",_diff:"_diff is reserved key of observ-struct.\n",
_type:"_type is reserved key of observ-struct.\n",_version:"_version is reserved key of observ-struct.\n"},NO_TRANSACTION={};module.exports=ObservStruct},{observ:36,xtend:32}],32:[function(_dereq_,module,exports){function extend(){for(var target={},i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source)source.hasOwnProperty(key)&&(target[key]=source[key])}return target}module.exports=extend},{}],33:[function(_dereq_,module,exports){function ObservVarhash(hash,createValue){createValue=createValue||function(obj){return obj};var initialState={},currentTransaction=NO_TRANSACTION,obs=Observ(initialState);setNonEnumerable(obs,"_removeListeners",{}),setNonEnumerable(obs,"set",obs.set),setNonEnumerable(obs,"get",get.bind(obs)),setNonEnumerable(obs,"put",put.bind(obs,createValue)),setNonEnumerable(obs,"delete",del.bind(obs));for(var key in hash)obs[key]="function"==typeof hash[key]?hash[key]:createValue(hash[key],key),isFn(obs[key])&&(obs._removeListeners[key]=obs[key](watch(obs,key,currentTransaction)));var newState={};for(key in hash){var observ=obs[key];checkKey(key),newState[key]=isFn(observ)?observ():observ}return obs.set(newState),obs(function(newState){if(currentTransaction!==newState)for(var key in hash){var observ=hash[key];isFn(observ)&&observ()!==newState[key]&&observ.set(newState[key])}}),obs}function get(key){return this[key]}function put(createValue,key,val){if(checkKey(key),void 0===val)throw new Error("cannot varhash.put(key, undefined).");var observ="function"==typeof val?val:createValue(val,key),state=extend(this());return state[key]=isFn(observ)?observ():observ,isFn(this._removeListeners[key])&&this._removeListeners[key](),this._removeListeners[key]=isFn(observ)?observ(watch(this,key)):null,setNonEnumerable(state,"_diff",diff(key,state[key])),this[key]=observ,this.set(state),this}function del(key){var state=extend(this());return isFn(this._removeListeners[key])&&this._removeListeners[key](),delete this._removeListeners[key],delete state[key],delete this[key],setNonEnumerable(state,"_diff",diff(key,void 0)),this.set(state),this}function watch(obs,key,currentTransaction){return function(value){var state=extend(obs());state[key]=value,setNonEnumerable(state,"_diff",diff(key,value)),currentTransaction=state,obs.set(state),currentTransaction=NO_TRANSACTION}}function diff(key,value){var obj={};return obj[key]=value&&value._diff?value._diff:value,obj}function isFn(obj){return"function"==typeof obj}function setNonEnumerable(object,key,value){Object.defineProperty(object,key,{value:value,writable:!0,configurable:!0,enumerable:!1})}function checkKey(key){if(blacklist[key])throw new Error("cannot create an observ-varhash with key `"+key+"`. "+blacklist[key])}var Observ=_dereq_("observ"),extend=_dereq_("xtend"),NO_TRANSACTION={};module.exports=ObservVarhash;var blacklist={name:"Clashes with `Function.prototype.name`.",get:"get is a reserved key of observ-varhash method",put:"put is a reserved key of observ-varhash method",delete:"delete is a reserved key of observ-varhash method",_diff:"_diff is a reserved key of observ-varhash method",_removeListeners:"_removeListeners is a reserved key of observ-varhash"}},{observ:36,xtend:34}],34:[function(_dereq_,module,exports){module.exports=_dereq_(32)},{}],35:[function(_dereq_,module,exports){function computed(observables,lambda){var values=observables.map(function(o){return o()}),result=Observable(lambda.apply(null,values));return observables.forEach(function(o,index){o(function(newValue){values[index]=newValue,result.set(lambda.apply(null,values))})}),result}var Observable=_dereq_("./index.js");module.exports=computed},{"./index.js":36}],36:[function(_dereq_,module,exports){function Observable(value){function observable(listener){return listener?(listeners.push(listener),function(){listeners.splice(listeners.indexOf(listener),1)}):value}var listeners=[];return value=void 0===value?null:value,observable.set=function(v){value=v,listeners.forEach(function(f){f(v)})},observable}module.exports=Observable},{}],37:[function(_dereq_,module,exports){function watch(observable,listener){var remove=observable(listener);return listener(observable()),remove}module.exports=watch},{}],38:[function(_dereq_,module,exports){function noop(){}var process=module.exports={};process.nextTick=function(){var canSetImmediate="undefined"!=typeof window&&window.setImmediate,canPost="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(canSetImmediate)return function(f){return window.setImmediate(f)};if(canPost){var queue=[];return window.addEventListener("message",function(ev){var source=ev.source;if((source===window||null===source)&&"process-tick"===ev.data&&(ev.stopPropagation(),queue.length>0)){var fn=queue.shift();fn()}},!0),function(fn){queue.push(fn),window.postMessage("process-tick","*")}}return function(fn){setTimeout(fn,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")}},{}],39:[function(_dereq_,module,exports){for(var now=_dereq_("performance-now"),global="undefined"==typeof window?{}:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=global["request"+suffix],caf=global["cancel"+suffix]||global["cancelRequest"+suffix],isNative=!0,i=0;i<vendors.length&&!raf;i++)raf=global[vendors[i]+"Request"+suffix],caf=global[vendors[i]+"Cancel"+suffix]||global[vendors[i]+"CancelRequest"+suffix];if(!raf||!caf){isNative=!1;var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(callback){if(0===queue.length){var _now=now(),next=Math.max(0,frameDuration-(_now-last));last=next+_now,setTimeout(function(){var cp=queue.slice(0);queue.length=0;for(var i=0;i<cp.length;i++)if(!cp[i].cancelled)try{cp[i].callback(last)}catch(e){setTimeout(function(){throw e},0)}},Math.round(next))}return queue.push({handle:++id,callback:callback,cancelled:!1}),id},caf=function(handle){for(var i=0;i<queue.length;i++)queue[i].handle===handle&&(queue[i].cancelled=!0)}}module.exports=function(fn){return isNative?raf.call(global,function(){try{fn.apply(this,arguments)}catch(e){setTimeout(function(){throw e},0)}}):raf.call(global,fn)},module.exports.cancel=function(){caf.apply(global,arguments)}},{"performance-now":40}],40:[function(_dereq_,module,exports){(function(process){(function(){var getNanoSeconds,hrtime,loadTime;"undefined"!=typeof performance&&null!==performance&&performance.now?module.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(module.exports=function(){return(getNanoSeconds()-loadTime)/1e6},hrtime=process.hrtime,getNanoSeconds=function(){var hr;return hr=hrtime(),1e9*hr[0]+hr[1]},loadTime=getNanoSeconds()):Date.now?(module.exports=function(){return Date.now()-loadTime},loadTime=Date.now()):(module.exports=function(){return(new Date).getTime()-loadTime},loadTime=(new Date).getTime())}).call(this)}).call(this,_dereq_("g5I+bs"))},{"g5I+bs":38}],41:[function(_dereq_,module,exports){function BaseEvent(lambda){function EventHandler(fn,data,opts){var handler={fn:fn,data:data||{},opts:opts||{},handleEvent:handleEvent};return fn&&"dom-delegator-handle"===fn.type?Delegator.transformHandle(fn,handleLambda.bind(handler)):handler}function handleLambda(ev,broadcast){return this.opts.startPropagation&&ev.startPropagation&&ev.startPropagation(),lambda.call(this,ev,broadcast)}function handleEvent(ev){function broadcast(value){"function"==typeof self.fn?self.fn(value):self.fn.write(value)}var self=this;self.opts.startPropagation&&ev.startPropagation&&ev.startPropagation(),lambda.call(self,ev,broadcast)}return EventHandler}var Delegator=_dereq_("dom-delegator");module.exports=BaseEvent},{"dom-delegator":6}],42:[function(_dereq_,module,exports){function changeLambda(ev,broadcast){var target=ev.target,isValid="input"===ev.type&&VALID_INPUT.indexOf(target.type)!==-1||"change"===ev.type&&VALID_CHANGE.indexOf(target.type)!==-1;if(!isValid)return void(ev.startPropagation&&ev.startPropagation());var value=getFormData(ev.currentTarget),data=extend(value,this.data);broadcast(data)}var extend=_dereq_("xtend"),getFormData=_dereq_("form-data-set/element"),BaseEvent=_dereq_("./base-event.js"),VALID_CHANGE=["checkbox","file","select-multiple","select-one"],VALID_INPUT=["color","date","datetime","datetime-local","email","month","number","password","range","search","tel","text","time","url","week"];module.exports=BaseEvent(changeLambda)},{"./base-event.js":41,"form-data-set/element":47,xtend:50}],43:[function(_dereq_,module,exports){function clickLambda(ev,broadcast){var opts=this.opts;!opts.ctrl&&ev.ctrlKey||!opts.meta&&ev.metaKey||(opts.rightClick||2!==ev.which)&&(this.opts.preventDefault&&ev.preventDefault&&ev.preventDefault(),broadcast(this.data))}var BaseEvent=_dereq_("./base-event.js");module.exports=BaseEvent(clickLambda)},{"./base-event.js":41}],44:[function(_dereq_,module,exports){function eventLambda(ev,broadcast){broadcast(this.data)}var BaseEvent=_dereq_("./base-event.js");module.exports=BaseEvent(eventLambda)},{"./base-event.js":41}],45:[function(_dereq_,module,exports){function keyLambda(ev,broadcast){var key=this.opts.key;ev.keyCode===key&&broadcast(this.data)}var BaseEvent=_dereq_("./base-event.js");module.exports=BaseEvent(keyLambda)},{"./base-event.js":41}],46:[function(_dereq_,module,exports){function iterativelyWalk(nodes,cb){"length"in nodes||(nodes=[nodes]),nodes=slice.call(nodes);for(;nodes.length;){var node=nodes.shift(),ret=cb(node);if(ret)return ret;node.childNodes&&node.childNodes.length&&(nodes=slice.call(node.childNodes).concat(nodes))}}var slice=Array.prototype.slice;module.exports=iterativelyWalk},{}],47:[function(_dereq_,module,exports){function buildElems(rootElem){var hash={};return rootElem.name&&(hash[rootElem.name]=rootElem),walk(rootElem,function(child){child.name&&(hash[child.name]=child)}),hash}function getFormData(rootElem){var elements=buildElems(rootElem);return FormData(elements)}var walk=_dereq_("dom-walk"),FormData=_dereq_("./index.js");module.exports=getFormData},{"./index.js":48,"dom-walk":46}],48:[function(_dereq_,module,exports){function FormData(elements){return Object.keys(elements).reduce(function(acc,key){var elem=elements[key];return acc[key]=valueOfElement(elem),acc},{})}function valueOfElement(elem){if("function"==typeof elem)return elem();if(containsRadio(elem)){var elems=toList(elem),checked=elems.filter(function(elem){return elem.checked})[0]||null;return checked?checked.value:null}return Array.isArray(elem)?elem.map(valueOfElement).filter(filterNull):void 0===elem.tagName&&void 0===elem.nodeType?FormData(elem):"INPUT"===elem.tagName&&isChecked(elem)?elem.hasAttribute("value")?elem.checked?elem.value:null:elem.checked:"INPUT"===elem.tagName?elem.value:"TEXTAREA"===elem.tagName?elem.value:"SELECT"===elem.tagName?elem.value:void 0}function isChecked(elem){return"checkbox"===elem.type||"radio"===elem.type}function containsRadio(value){if(value.tagName||value.nodeType)return!1;var elems=toList(value);return elems.some(function(elem){return"INPUT"===elem.tagName&&"radio"===elem.type})}function toList(value){return Array.isArray(value)?value:Object.keys(value).map(prop,value)}function prop(x){return this[x]}function filterNull(val){return null!==val}module.exports=FormData},{}],49:[function(_dereq_,module,exports){function hasKeys(source){return null!==source&&("object"==typeof source||"function"==typeof source)}module.exports=hasKeys},{}],50:[function(_dereq_,module,exports){function extend(){for(var target={},i=0;i<arguments.length;i++){var source=arguments[i];if(hasKeys(source))for(var key in source)source.hasOwnProperty(key)&&(target[key]=source[key])}return target}var hasKeys=_dereq_("./has-keys");module.exports=extend},{"./has-keys":49}],51:[function(_dereq_,module,exports){function submitLambda(ev,broadcast){var target=ev.target,isValid="submit"===ev.type&&"FORM"===target.tagName||"click"===ev.type&&"BUTTON"===target.tagName||"click"===ev.type&&"submit"===target.type||"text"===target.type&&ev.keyCode===ENTER&&"keydown"===ev.type;if(!isValid)return void(ev.startPropagation&&ev.startPropagation());var value=getFormData(ev.currentTarget),data=extend(value,this.data);ev.preventDefault&&ev.preventDefault(),broadcast(data)}var extend=_dereq_("xtend"),getFormData=_dereq_("form-data-set/element"),BaseEvent=_dereq_("./base-event.js"),ENTER=13;module.exports=BaseEvent(submitLambda)},{"./base-event.js":41,"form-data-set/element":47,xtend:50}],52:[function(_dereq_,module,exports){function valueLambda(ev,broadcast){var value=getFormData(ev.currentTarget),data=extend(value,this.data);broadcast(data)}var extend=_dereq_("xtend"),getFormData=_dereq_("form-data-set/element"),BaseEvent=_dereq_("./base-event.js");module.exports=BaseEvent(valueLambda)},{"./base-event.js":41,"form-data-set/element":47,xtend:50}],53:[function(_dereq_,module,exports){function Thunk(fn,args,key,eqArgs){this.fn=fn,this.args=args,this.key=key,this.eqArgs=eqArgs}function shouldUpdate(current,previous){if(!current||!previous||current.fn!==previous.fn)return!0;var cargs=current.args,pargs=previous.args;return!current.eqArgs(cargs,pargs)}function render(previous){return shouldUpdate(this,previous)?this.fn.apply(null,this.args):previous.vnode}Thunk.prototype.type="Thunk",Thunk.prototype.render=render,module.exports=Thunk},{}],54:[function(_dereq_,module,exports){var Partial=_dereq_("./partial");module.exports=Partial()},{"./partial":55}],55:[function(_dereq_,module,exports){function createPartial(eq){return function(fn){var key,args=copyOver(arguments,1),firstArg=args[0],eqArgs=eq||shallowEq;return"object"==typeof firstArg&&null!==firstArg&&("key"in firstArg?key=firstArg.key:"id"in firstArg&&(key=firstArg.id)),new Thunk(fn,args,key,eqArgs)}}function copyOver(list,offset){for(var newList=[],i=list.length-1;i>=offset;i--)newList[i-offset]=list[i];return newList}var shallowEq=_dereq_("./shallow-eq"),Thunk=_dereq_("./immutable-thunk");module.exports=createPartial},{"./immutable-thunk":53,"./shallow-eq":56}],56:[function(_dereq_,module,exports){function shallowEq(currentArgs,previousArgs){if(0===currentArgs.length&&0===previousArgs.length)return!0;if(currentArgs.length!==previousArgs.length)return!1;for(var len=currentArgs.length,i=0;i<len;i++)if(currentArgs[i]!==previousArgs[i])return!1;return!0}module.exports=shallowEq},{}],57:[function(_dereq_,module,exports){module.exports=function(undef){var self,nativeSplit=String.prototype.split,compliantExecNpcg=/()??/.exec("")[1]===undef;return self=function(str,separator,limit){if("[object RegExp]"!==Object.prototype.toString.call(separator))return nativeSplit.call(str,separator,limit);var separator2,match,lastIndex,lastLength,output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.extended?"x":"")+(separator.sticky?"y":""),lastLastIndex=0,separator=new RegExp(separator.source,flags+"g");for(str+="",compliantExecNpcg||(separator2=new RegExp("^"+separator.source+"$(?!\\s)",flags)),limit=limit===undef?-1>>>0:limit>>>0;(match=separator.exec(str))&&(lastIndex=match.index+match[0].length,!(lastIndex>lastLastIndex&&(output.push(str.slice(lastLastIndex,match.index)),!compliantExecNpcg&&match.length>1&&match[0].replace(separator2,function(){for(var i=1;i<arguments.length-2;i++)arguments[i]===undef&&(match[i]=undef)}),match.length>1&&match.index<str.length&&Array.prototype.push.apply(output,match.slice(1)),lastLength=match[0].length,lastLastIndex=lastIndex,output.length>=limit)));)separator.lastIndex===match.index&&separator.lastIndex++;return lastLastIndex===str.length?!lastLength&&separator.test("")||output.push(""):output.push(str.slice(lastLastIndex)),output.length>limit?output.slice(0,limit):output}}()},{}],58:[function(_dereq_,module,exports){module.exports=_dereq_(7)},{"individual/one-version":60}],59:[function(_dereq_,module,exports){module.exports=_dereq_(8)},{}],60:[function(_dereq_,module,exports){module.exports=_dereq_(9)},{"./index.js":59}],61:[function(_dereq_,module,exports){"use strict";module.exports=function(x){return"object"==typeof x&&null!==x}},{}],62:[function(_dereq_,module,exports){function isArray(obj){return"[object Array]"===toString.call(obj)}var nativeIsArray=Array.isArray,toString=Object.prototype.toString;module.exports=nativeIsArray||isArray},{}],63:[function(_dereq_,module,exports){function applyProperties(node,props,previous){for(var propName in props){var propValue=props[propName];void 0===propValue?removeProperty(node,propName,propValue,previous):isHook(propValue)?(removeProperty(node,propName,propValue,previous),propValue.hook&&propValue.hook(node,propName,previous?previous[propName]:void 0)):isObject(propValue)?patchObject(node,props,previous,propName,propValue):node[propName]=propValue}}function removeProperty(node,propName,propValue,previous){if(previous){var previousValue=previous[propName];if(isHook(previousValue))previousValue.unhook&&previousValue.unhook(node,propName,propValue);else if("attributes"===propName)for(var attrName in previousValue)node.removeAttribute(attrName);else if("style"===propName)for(var i in previousValue)node.style[i]="";else"string"==typeof previousValue?node[propName]="":node[propName]=null}}function patchObject(node,props,previous,propName,propValue){var previousValue=previous?previous[propName]:void 0;if("attributes"!==propName){if(previousValue&&isObject(previousValue)&&getPrototype(previousValue)!==getPrototype(propValue))return void(node[propName]=propValue);isObject(node[propName])||(node[propName]={});var replacer="style"===propName?"":void 0;for(var k in propValue){var value=propValue[k];node[propName][k]=void 0===value?replacer:value}}else for(var attrName in propValue){var attrValue=propValue[attrName];void 0===attrValue?node.removeAttribute(attrName):node.setAttribute(attrName,attrValue)}}function getPrototype(value){return Object.getPrototypeOf?Object.getPrototypeOf(value):value.__proto__?value.__proto__:value.constructor?value.constructor.prototype:void 0}var isObject=_dereq_("is-object"),isHook=_dereq_("../vnode/is-vhook.js");module.exports=applyProperties},{"../vnode/is-vhook.js":75,"is-object":61}],64:[function(_dereq_,module,exports){function createElement(vnode,opts){var doc=opts?opts.document||document:document,warn=opts?opts.warn:null;if(vnode=handleThunk(vnode).a,isWidget(vnode))return vnode.init();if(isVText(vnode))return doc.createTextNode(vnode.text);if(!isVNode(vnode))return warn&&warn("Item is not a valid virtual dom node",vnode),null;var node=null===vnode.namespace?doc.createElement(vnode.tagName):doc.createElementNS(vnode.namespace,vnode.tagName),props=vnode.properties;applyProperties(node,props);for(var children=vnode.children,i=0;i<children.length;i++){var childNode=createElement(children[i],opts);childNode&&node.appendChild(childNode)}return node}var document=_dereq_("global/document"),applyProperties=_dereq_("./apply-properties"),isVNode=_dereq_("../vnode/is-vnode.js"),isVText=_dereq_("../vnode/is-vtext.js"),isWidget=_dereq_("../vnode/is-widget.js"),handleThunk=_dereq_("../vnode/handle-thunk.js");module.exports=createElement},{"../vnode/handle-thunk.js":73,"../vnode/is-vnode.js":76,"../vnode/is-vtext.js":77,"../vnode/is-widget.js":78,"./apply-properties":63,"global/document":17}],65:[function(_dereq_,module,exports){function domIndex(rootNode,tree,indices,nodes){return indices&&0!==indices.length?(indices.sort(ascending),recurse(rootNode,tree,indices,nodes,0)):{}}function recurse(rootNode,tree,indices,nodes,rootIndex){if(nodes=nodes||{},rootNode){indexInRange(indices,rootIndex,rootIndex)&&(nodes[rootIndex]=rootNode);var vChildren=tree.children;if(vChildren)for(var childNodes=rootNode.childNodes,i=0;i<tree.children.length;i++){rootIndex+=1;var vChild=vChildren[i]||noChild,nextIndex=rootIndex+(vChild.count||0);indexInRange(indices,rootIndex,nextIndex)&&recurse(childNodes[i],vChild,indices,nodes,rootIndex),rootIndex=nextIndex}}return nodes}function indexInRange(indices,left,right){if(0===indices.length)return!1;for(var currentIndex,currentItem,minIndex=0,maxIndex=indices.length-1;minIndex<=maxIndex;){if(currentIndex=(maxIndex+minIndex)/2>>0,currentItem=indices[currentIndex],minIndex===maxIndex)return currentItem>=left&&currentItem<=right;if(currentItem<left)minIndex=currentIndex+1;else{if(!(currentItem>right))return!0;maxIndex=currentIndex-1}}return!1}function ascending(a,b){return a>b?1:-1}var noChild={};module.exports=domIndex},{}],66:[function(_dereq_,module,exports){function applyPatch(vpatch,domNode,renderOptions){var type=vpatch.type,vNode=vpatch.vNode,patch=vpatch.patch;switch(type){case VPatch.REMOVE:return removeNode(domNode,vNode);case VPatch.INSERT:return insertNode(domNode,patch,renderOptions);case VPatch.VTEXT:return stringPatch(domNode,vNode,patch,renderOptions);case VPatch.WIDGET:return widgetPatch(domNode,vNode,patch,renderOptions);case VPatch.VNODE:return vNodePatch(domNode,vNode,patch,renderOptions);case VPatch.ORDER:return reorderChildren(domNode,patch),domNode;case VPatch.PROPS:return applyProperties(domNode,patch,vNode.properties),domNode;case VPatch.THUNK:return replaceRoot(domNode,renderOptions.patch(domNode,patch,renderOptions));default:return domNode}}function removeNode(domNode,vNode){var parentNode=domNode.parentNode;return parentNode&&parentNode.removeChild(domNode),destroyWidget(domNode,vNode),null}function insertNode(parentNode,vNode,renderOptions){var newNode=render(vNode,renderOptions);return parentNode&&parentNode.appendChild(newNode),parentNode}function stringPatch(domNode,leftVNode,vText,renderOptions){var newNode;if(3===domNode.nodeType)domNode.replaceData(0,domNode.length,vText.text),newNode=domNode;else{var parentNode=domNode.parentNode;newNode=render(vText,renderOptions),parentNode&&parentNode.replaceChild(newNode,domNode)}return newNode}function widgetPatch(domNode,leftVNode,widget,renderOptions){var newNode,updating=updateWidget(leftVNode,widget);newNode=updating?widget.update(leftVNode,domNode)||domNode:render(widget,renderOptions);var parentNode=domNode.parentNode;return parentNode&&newNode!==domNode&&parentNode.replaceChild(newNode,domNode),updating||destroyWidget(domNode,leftVNode),newNode}function vNodePatch(domNode,leftVNode,vNode,renderOptions){var parentNode=domNode.parentNode,newNode=render(vNode,renderOptions);return parentNode&&parentNode.replaceChild(newNode,domNode),newNode}function destroyWidget(domNode,w){"function"==typeof w.destroy&&isWidget(w)&&w.destroy(domNode)}function reorderChildren(domNode,bIndex){var i,children=[],childNodes=domNode.childNodes,len=childNodes.length,reverseIndex=bIndex.reverse;for(i=0;i<len;i++)children.push(domNode.childNodes[i]);var move,node,insertNode,chainLength,insertedLength,insertOffset=0;for(i=0;i<len;){if(move=bIndex[i],chainLength=1,void 0!==move&&move!==i){for(;bIndex[i+chainLength]===move+chainLength;)chainLength++;for(reverseIndex[i]>i+chainLength&&insertOffset++,node=children[move],insertNode=childNodes[i+insertOffset]||null,insertedLength=0;node!==insertNode&&insertedLength++<chainLength;)domNode.insertBefore(node,insertNode),node=children[move+insertedLength];move+chainLength<i&&insertOffset--}i in bIndex.removes&&insertOffset++,i+=chainLength}}function replaceRoot(oldRoot,newRoot){return oldRoot&&newRoot&&oldRoot!==newRoot&&oldRoot.parentNode&&(console.log(oldRoot),oldRoot.parentNode.replaceChild(newRoot,oldRoot)),newRoot}var applyProperties=_dereq_("./apply-properties"),isWidget=_dereq_("../vnode/is-widget.js"),VPatch=_dereq_("../vnode/vpatch.js"),render=_dereq_("./create-element"),updateWidget=_dereq_("./update-widget");module.exports=applyPatch},{"../vnode/is-widget.js":78,"../vnode/vpatch.js":81,"./apply-properties":63,"./create-element":64,"./update-widget":68}],67:[function(_dereq_,module,exports){function patch(rootNode,patches){return patchRecursive(rootNode,patches)}function patchRecursive(rootNode,patches,renderOptions){var indices=patchIndices(patches);if(0===indices.length)return rootNode;var index=domIndex(rootNode,patches.a,indices),ownerDocument=rootNode.ownerDocument;renderOptions||(renderOptions={patch:patchRecursive},ownerDocument!==document&&(renderOptions.document=ownerDocument));for(var i=0;i<indices.length;i++){var nodeIndex=indices[i];rootNode=applyPatch(rootNode,index[nodeIndex],patches[nodeIndex],renderOptions)}return rootNode}function applyPatch(rootNode,domNode,patchList,renderOptions){if(!domNode)return rootNode;var newNode;if(isArray(patchList))for(var i=0;i<patchList.length;i++)newNode=patchOp(patchList[i],domNode,renderOptions),domNode===rootNode&&(rootNode=newNode);else newNode=patchOp(patchList,domNode,renderOptions),domNode===rootNode&&(rootNode=newNode);return rootNode}function patchIndices(patches){var indices=[];for(var key in patches)"a"!==key&&indices.push(Number(key));return indices}var document=_dereq_("global/document"),isArray=_dereq_("x-is-array"),domIndex=_dereq_("./dom-index"),patchOp=_dereq_("./patch-op");module.exports=patch},{"./dom-index":65,"./patch-op":66,"global/document":17,"x-is-array":62}],68:[function(_dereq_,module,exports){function updateWidget(a,b){return!(!isWidget(a)||!isWidget(b))&&("name"in a&&"name"in b?a.id===b.id:a.init===b.init)}var isWidget=_dereq_("../vnode/is-widget.js");module.exports=updateWidget},{"../vnode/is-widget.js":78}],69:[function(_dereq_,module,exports){"use strict";function EvHook(value){return this instanceof EvHook?void(this.value=value):new EvHook(value)}var EvStore=_dereq_("ev-store");module.exports=EvHook,EvHook.prototype.hook=function(node,propertyName){var es=EvStore(node),propName=propertyName.substr(3);es[propName]=this.value},EvHook.prototype.unhook=function(node,propertyName){var es=EvStore(node),propName=propertyName.substr(3);es[propName]=void 0}},{"ev-store":58}],70:[function(_dereq_,module,exports){"use strict";function SoftSetHook(value){return this instanceof SoftSetHook?void(this.value=value):new SoftSetHook(value)}module.exports=SoftSetHook,SoftSetHook.prototype.hook=function(node,propertyName){node[propertyName]!==this.value&&(node[propertyName]=this.value)}},{}],71:[function(_dereq_,module,exports){"use strict";function h(tagName,properties,children){var tag,props,key,namespace,childNodes=[];return!children&&isChildren(properties)&&(children=properties,props={}),props=props||properties||{},tag=parseTag(tagName,props),props.hasOwnProperty("key")&&(key=props.key,props.key=void 0),props.hasOwnProperty("namespace")&&(namespace=props.namespace,props.namespace=void 0),"INPUT"!==tag||namespace||!props.hasOwnProperty("value")||void 0===props.value||isHook(props.value)||(props.value=softSetHook(props.value)),transformProperties(props),void 0!==children&&null!==children&&addChild(children,childNodes,tag,props),new VNode(tag,props,childNodes,key,namespace)}function addChild(c,childNodes,tag,props){if("string"==typeof c)childNodes.push(new VText(c));else if(isChild(c))childNodes.push(c);else{if(!isArray(c)){if(null===c||void 0===c)return;throw UnexpectedVirtualElement({foreignObject:c,parentVnode:{tagName:tag,properties:props}})}for(var i=0;i<c.length;i++)addChild(c[i],childNodes,tag,props)}}function transformProperties(props){for(var propName in props)if(props.hasOwnProperty(propName)){var value=props[propName];if(isHook(value))continue;"ev-"===propName.substr(0,3)&&(props[propName]=evHook(value))}}function isChild(x){return isVNode(x)||isVText(x)||isWidget(x)||isVThunk(x)}function isChildren(x){return"string"==typeof x||isArray(x)||isChild(x)}function UnexpectedVirtualElement(data){var err=new Error;return err.type="virtual-hyperscript.unexpected.virtual-element",err.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+errorString(data.foreignObject)+".\nThe parent vnode is:\n"+errorString(data.parentVnode),err.foreignObject=data.foreignObject,err.parentVnode=data.parentVnode,err}function errorString(obj){try{return JSON.stringify(obj,null,"    ")}catch(e){return String(obj)}}var isArray=_dereq_("x-is-array"),VNode=_dereq_("../vnode/vnode.js"),VText=_dereq_("../vnode/vtext.js"),isVNode=_dereq_("../vnode/is-vnode"),isVText=_dereq_("../vnode/is-vtext"),isWidget=_dereq_("../vnode/is-widget"),isHook=_dereq_("../vnode/is-vhook"),isVThunk=_dereq_("../vnode/is-thunk"),parseTag=_dereq_("./parse-tag.js"),softSetHook=_dereq_("./hooks/soft-set-hook.js"),evHook=_dereq_("./hooks/ev-hook.js");module.exports=h},{"../vnode/is-thunk":74,"../vnode/is-vhook":75,"../vnode/is-vnode":76,"../vnode/is-vtext":77,"../vnode/is-widget":78,"../vnode/vnode.js":80,"../vnode/vtext.js":82,"./hooks/ev-hook.js":69,"./hooks/soft-set-hook.js":70,"./parse-tag.js":72,"x-is-array":62}],72:[function(_dereq_,module,exports){"use strict";function parseTag(tag,props){if(!tag)return"DIV";var noId=!props.hasOwnProperty("id"),tagParts=split(tag,classIdSplit),tagName=null;notClassId.test(tagParts[1])&&(tagName="DIV");var classes,part,type,i;for(i=0;i<tagParts.length;i++)part=tagParts[i],part&&(type=part.charAt(0),tagName?"."===type?(classes=classes||[],classes.push(part.substring(1,part.length))):"#"===type&&noId&&(props.id=part.substring(1,part.length)):tagName=part);return classes&&(props.className&&classes.push(props.className),props.className=classes.join(" ")),props.namespace?tagName:tagName.toUpperCase()}var split=_dereq_("browser-split"),classIdSplit=/([\.#]?[a-zA-Z0-9_:-]+)/,notClassId=/^\.|#/;module.exports=parseTag},{"browser-split":57}],73:[function(_dereq_,module,exports){function handleThunk(a,b){var renderedA=a,renderedB=b;return isThunk(b)&&(renderedB=renderThunk(b,a)),isThunk(a)&&(renderedA=renderThunk(a,null)),{a:renderedA,b:renderedB}}function renderThunk(thunk,previous){var renderedThunk=thunk.vnode;if(renderedThunk||(renderedThunk=thunk.vnode=thunk.render(previous)),!(isVNode(renderedThunk)||isVText(renderedThunk)||isWidget(renderedThunk)))throw new Error("thunk did not return a valid node");return renderedThunk}var isVNode=_dereq_("./is-vnode"),isVText=_dereq_("./is-vtext"),isWidget=_dereq_("./is-widget"),isThunk=_dereq_("./is-thunk");module.exports=handleThunk},{"./is-thunk":74,"./is-vnode":76,"./is-vtext":77,"./is-widget":78}],74:[function(_dereq_,module,exports){function isThunk(t){return t&&"Thunk"===t.type}module.exports=isThunk},{}],75:[function(_dereq_,module,exports){function isHook(hook){return hook&&("function"==typeof hook.hook&&!hook.hasOwnProperty("hook")||"function"==typeof hook.unhook&&!hook.hasOwnProperty("unhook"))}module.exports=isHook},{}],76:[function(_dereq_,module,exports){function isVirtualNode(x){return x&&"VirtualNode"===x.type&&x.version===version}var version=_dereq_("./version");module.exports=isVirtualNode},{"./version":79}],77:[function(_dereq_,module,exports){function isVirtualText(x){return x&&"VirtualText"===x.type&&x.version===version}var version=_dereq_("./version");module.exports=isVirtualText},{"./version":79}],78:[function(_dereq_,module,exports){function isWidget(w){return w&&"Widget"===w.type}module.exports=isWidget},{}],79:[function(_dereq_,module,exports){module.exports="1"},{}],80:[function(_dereq_,module,exports){function VirtualNode(tagName,properties,children,key,namespace){this.tagName=tagName,this.properties=properties||noProperties,this.children=children||noChildren,this.key=null!=key?String(key):void 0,this.namespace="string"==typeof namespace?namespace:null;var hooks,count=children&&children.length||0,descendants=0,hasWidgets=!1,hasThunks=!1,descendantHooks=!1;for(var propName in properties)if(properties.hasOwnProperty(propName)){var property=properties[propName];isVHook(property)&&property.unhook&&(hooks||(hooks={}),hooks[propName]=property)}for(var i=0;i<count;i++){var child=children[i];isVNode(child)?(descendants+=child.count||0,
!hasWidgets&&child.hasWidgets&&(hasWidgets=!0),!hasThunks&&child.hasThunks&&(hasThunks=!0),descendantHooks||!child.hooks&&!child.descendantHooks||(descendantHooks=!0)):!hasWidgets&&isWidget(child)?"function"==typeof child.destroy&&(hasWidgets=!0):!hasThunks&&isThunk(child)&&(hasThunks=!0)}this.count=count+descendants,this.hasWidgets=hasWidgets,this.hasThunks=hasThunks,this.hooks=hooks,this.descendantHooks=descendantHooks}var version=_dereq_("./version"),isVNode=_dereq_("./is-vnode"),isWidget=_dereq_("./is-widget"),isThunk=_dereq_("./is-thunk"),isVHook=_dereq_("./is-vhook");module.exports=VirtualNode;var noProperties={},noChildren=[];VirtualNode.prototype.version=version,VirtualNode.prototype.type="VirtualNode"},{"./is-thunk":74,"./is-vhook":75,"./is-vnode":76,"./is-widget":78,"./version":79}],81:[function(_dereq_,module,exports){function VirtualPatch(type,vNode,patch){this.type=Number(type),this.vNode=vNode,this.patch=patch}var version=_dereq_("./version");VirtualPatch.NONE=0,VirtualPatch.VTEXT=1,VirtualPatch.VNODE=2,VirtualPatch.WIDGET=3,VirtualPatch.PROPS=4,VirtualPatch.ORDER=5,VirtualPatch.INSERT=6,VirtualPatch.REMOVE=7,VirtualPatch.THUNK=8,module.exports=VirtualPatch,VirtualPatch.prototype.version=version,VirtualPatch.prototype.type="VirtualPatch"},{"./version":79}],82:[function(_dereq_,module,exports){function VirtualText(text){this.text=String(text)}var version=_dereq_("./version");module.exports=VirtualText,VirtualText.prototype.version=version,VirtualText.prototype.type="VirtualText"},{"./version":79}],83:[function(_dereq_,module,exports){function diffProps(a,b){var diff;for(var aKey in a){aKey in b||(diff=diff||{},diff[aKey]=void 0);var aValue=a[aKey],bValue=b[aKey];if(aValue!==bValue)if(isObject(aValue)&&isObject(bValue))if(getPrototype(bValue)!==getPrototype(aValue))diff=diff||{},diff[aKey]=bValue;else if(isHook(bValue))diff=diff||{},diff[aKey]=bValue;else{var objectDiff=diffProps(aValue,bValue);objectDiff&&(diff=diff||{},diff[aKey]=objectDiff)}else diff=diff||{},diff[aKey]=bValue}for(var bKey in b)bKey in a||(diff=diff||{},diff[bKey]=b[bKey]);return diff}function getPrototype(value){return Object.getPrototypeOf?Object.getPrototypeOf(value):value.__proto__?value.__proto__:value.constructor?value.constructor.prototype:void 0}var isObject=_dereq_("is-object"),isHook=_dereq_("../vnode/is-vhook");module.exports=diffProps},{"../vnode/is-vhook":75,"is-object":61}],84:[function(_dereq_,module,exports){function diff(a,b){var patch={a:a};return walk(a,b,patch,0),patch}function walk(a,b,patch,index){if(a!==b){var apply=patch[index],applyClear=!1;if(isThunk(a)||isThunk(b))thunks(a,b,patch,index);else if(null==b)isWidget(a)||(clearState(a,patch,index),apply=patch[index]),apply=appendPatch(apply,new VPatch(VPatch.REMOVE,a,b));else if(isVNode(b))if(isVNode(a))if(a.tagName===b.tagName&&a.namespace===b.namespace&&a.key===b.key){var propsPatch=diffProps(a.properties,b.properties);propsPatch&&(apply=appendPatch(apply,new VPatch(VPatch.PROPS,a,propsPatch))),apply=diffChildren(a,b,patch,apply,index)}else apply=appendPatch(apply,new VPatch(VPatch.VNODE,a,b)),applyClear=!0;else apply=appendPatch(apply,new VPatch(VPatch.VNODE,a,b)),applyClear=!0;else isVText(b)?isVText(a)?a.text!==b.text&&(apply=appendPatch(apply,new VPatch(VPatch.VTEXT,a,b))):(apply=appendPatch(apply,new VPatch(VPatch.VTEXT,a,b)),applyClear=!0):isWidget(b)&&(isWidget(a)||(applyClear=!0),apply=appendPatch(apply,new VPatch(VPatch.WIDGET,a,b)));apply&&(patch[index]=apply),applyClear&&clearState(a,patch,index)}}function diffChildren(a,b,patch,apply,index){for(var aChildren=a.children,bChildren=reorder(aChildren,b.children),aLen=aChildren.length,bLen=bChildren.length,len=aLen>bLen?aLen:bLen,i=0;i<len;i++){var leftNode=aChildren[i],rightNode=bChildren[i];index+=1,leftNode?walk(leftNode,rightNode,patch,index):rightNode&&(apply=appendPatch(apply,new VPatch(VPatch.INSERT,null,rightNode))),isVNode(leftNode)&&leftNode.count&&(index+=leftNode.count)}return bChildren.moves&&(apply=appendPatch(apply,new VPatch(VPatch.ORDER,a,bChildren.moves))),apply}function clearState(vNode,patch,index){unhook(vNode,patch,index),destroyWidgets(vNode,patch,index)}function destroyWidgets(vNode,patch,index){if(isWidget(vNode))"function"==typeof vNode.destroy&&(patch[index]=appendPatch(patch[index],new VPatch(VPatch.REMOVE,vNode,null)));else if(isVNode(vNode)&&(vNode.hasWidgets||vNode.hasThunks))for(var children=vNode.children,len=children.length,i=0;i<len;i++){var child=children[i];index+=1,destroyWidgets(child,patch,index),isVNode(child)&&child.count&&(index+=child.count)}else isThunk(vNode)&&thunks(vNode,null,patch,index)}function thunks(a,b,patch,index){var nodes=handleThunk(a,b),thunkPatch=diff(nodes.a,nodes.b);hasPatches(thunkPatch)&&(patch[index]=new VPatch(VPatch.THUNK,null,thunkPatch))}function hasPatches(patch){for(var index in patch)if("a"!==index)return!0;return!1}function unhook(vNode,patch,index){if(isVNode(vNode)){if(vNode.hooks&&(patch[index]=appendPatch(patch[index],new VPatch(VPatch.PROPS,vNode,undefinedKeys(vNode.hooks)))),vNode.descendantHooks||vNode.hasThunks)for(var children=vNode.children,len=children.length,i=0;i<len;i++){var child=children[i];index+=1,unhook(child,patch,index),isVNode(child)&&child.count&&(index+=child.count)}}else isThunk(vNode)&&thunks(vNode,null,patch,index)}function undefinedKeys(obj){var result={};for(var key in obj)result[key]=void 0;return result}function reorder(aChildren,bChildren){var bKeys=keyIndex(bChildren);if(!bKeys)return bChildren;var aKeys=keyIndex(aChildren);if(!aKeys)return bChildren;var bMatch={},aMatch={};for(var aKey in bKeys)bMatch[bKeys[aKey]]=aKeys[aKey];for(var bKey in aKeys)aMatch[aKeys[bKey]]=bKeys[bKey];for(var aLen=aChildren.length,bLen=bChildren.length,len=aLen>bLen?aLen:bLen,shuffle=[],freeIndex=0,i=0,moveIndex=0,moves={},removes=moves.removes={},reverse=moves.reverse={},hasMoves=!1;freeIndex<len;){var move=aMatch[i];if(void 0!==move)shuffle[i]=bChildren[move],move!==moveIndex&&(moves[move]=moveIndex,reverse[moveIndex]=move,hasMoves=!0),moveIndex++;else if(i in aMatch)shuffle[i]=void 0,removes[i]=moveIndex++,hasMoves=!0;else{for(;void 0!==bMatch[freeIndex];)freeIndex++;if(freeIndex<len){var freeChild=bChildren[freeIndex];freeChild&&(shuffle[i]=freeChild,freeIndex!==moveIndex&&(hasMoves=!0,moves[freeIndex]=moveIndex,reverse[moveIndex]=freeIndex),moveIndex++),freeIndex++}}i++}return hasMoves&&(shuffle.moves=moves),shuffle}function keyIndex(children){var i,keys;for(i=0;i<children.length;i++){var child=children[i];void 0!==child.key&&(keys=keys||{},keys[child.key]=i)}return keys}function appendPatch(apply,patch){return apply?(isArray(apply)?apply.push(patch):apply=[apply,patch],apply):patch}var isArray=_dereq_("x-is-array"),VPatch=_dereq_("../vnode/vpatch"),isVNode=_dereq_("../vnode/is-vnode"),isVText=_dereq_("../vnode/is-vtext"),isWidget=_dereq_("../vnode/is-widget"),isThunk=_dereq_("../vnode/is-thunk"),handleThunk=_dereq_("../vnode/handle-thunk"),diffProps=_dereq_("./diff-props");module.exports=diff},{"../vnode/handle-thunk":73,"../vnode/is-thunk":74,"../vnode/is-vnode":76,"../vnode/is-vtext":77,"../vnode/is-widget":78,"../vnode/vpatch":81,"./diff-props":83,"x-is-array":62}],85:[function(_dereq_,module,exports){function createStore(){var key={};return function(obj){if(("object"!=typeof obj||null===obj)&&"function"!=typeof obj)throw new Error("Weakmap-shim: Key must be object");var store=obj.valueOf(key);return store&&store.identity===key?store:hiddenStore(obj,key)}}var hiddenStore=_dereq_("./hidden-store.js");module.exports=createStore},{"./hidden-store.js":86}],86:[function(_dereq_,module,exports){function hiddenStore(obj,key){var store={identity:key},valueOf=obj.valueOf;return Object.defineProperty(obj,"valueOf",{value:function(value){return value!==key?valueOf.apply(this,arguments):store},writable:!0}),store}module.exports=hiddenStore},{}],87:[function(_dereq_,module,exports){module.exports=_dereq_(32)},{}],88:[function(_dereq_,module,exports){function extend(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)source.hasOwnProperty(key)&&(target[key]=source[key])}return target}module.exports=extend},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(require,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function App(){return _mercury2.default.state({step:_mercury2.default.value(0),hall:_mercury2.default.varhash({show:_mercury2.default.value(!1),maxScore:_mercury2.default.value(!1),playerName:_mercury2.default.value(""),submitted:_mercury2.default.value(!1),scores:_mercury2.default.value(Storage.getScore())}),forceRender:_mercury2.default.value(0),channels:{selectTile:selectTile,updateName:updateName,submitScore:submitScore,closeHall:closeHall}})}function showHall(state,maxScore){state.hall.show.set(!0),maxScore&&state.hall.maxScore.set(!0),state.hall.scores.set(state.hall.scores().concat({isMyScore:!0,name:"",points:state.step()}))}function selectTile(state,selectedTile){var isMaxScore=!1;if(!state.hall.show()){if(game.selectTile(selectedTile)){state.step.set(state.step()+1);var tileCount=Math.pow(state.step()+1,2),tilesPerRow=state.step()+2,spaceAvailable=Math.min(window.innerHeight,window.innerWidth),tileSize=parseInt(spaceAvailable/tilesPerRow);if(tileSize>=MINIMUM_TILE_SIZE)return game=new _Game2.default(state.step(),Math.floor(Math.random()*tileCount));isMaxScore=!0}showHall(state,isMaxScore)}}function resetHall(state,submitted){state.hall.playerName.set(""),state.hall.submitted.set(!!submitted),state.hall.maxScore.set(!1)}function updateName(state,data){state.hall.playerName.set(data.name),state.hall.scores.set(state.hall.scores().map(function(score){return score.isMyScore&&(score.name=state.hall.playerName()),score}))}function submitScore(state){var scores=Storage.getScore();scores.push({name:state.hall.playerName(),points:state.step()}),Storage.setScore(scores),resetHall(state,!0)}function closeHall(state){resetHall(state),state.hall.show.set(!1),state.step.set(0),state.hall.scores.set(Storage.getScore());var tileCount=Math.pow(state.step()+1,2);game=new _Game2.default(state.step(),Math.floor(Math.random()*tileCount))}Object.defineProperty(exports,"__esModule",{value:!0});var _mercury=require("mercury/dist/mercury"),_mercury2=_interopRequireDefault(_mercury),_UI=require("./UI"),_UI2=_interopRequireDefault(_UI),_Game=require("./Game"),_Game2=_interopRequireDefault(_Game),_Hall=require("./Hall"),_Hall2=_interopRequireDefault(_Hall),_Storage=require("./Storage"),Storage=_interopRequireWildcard(_Storage),h=_mercury2.default.h,MINIMUM_TILE_SIZE=20,game=new _Game2.default(0,Math.floor(4*Math.random()));App.render=function(state){return h("div.app",[game.render(state),_UI2.default.render(state),_Hall2.default.render(state)])},exports.default={App:App,setGame:function(newGame){game=newGame},channels:{selectTile:selectTile,updateName:updateName,submitScore:submitScore,closeHall:closeHall}}},{"./Game":16,"./Hall":17,"./Storage":19,"./UI":21,"mercury/dist/mercury":13}],15:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_color=require("color"),_color2=_interopRequireDefault(_color),Color=function(){function Color(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,Color),this.color=(0,_color2.default)({h:h,s:s,l:l})}return _createClass(Color,[{key:"toRGB",value:function(){return this.color.hexString()}},{key:"offset",value:function(luminosityOffset,direction){return console.log(luminosityOffset),direction?this.color.darken(luminosityOffset/100):this.color.lighten(luminosityOffset/100),this.color}}]),Color}();exports.default=Color},{color:8}],16:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Tile=require("./Tile"),_Tile2=_interopRequireDefault(_Tile),_Color=require("./Color"),_Color2=_interopRequireDefault(_Color),MAX_INTENSITY=25,Game=function(){function Game(){var step=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,indexTileChanged=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,Game),this.step=step,this.tiles=this.generateTiles(this.step);var offsetIntensity=MAX_INTENSITY-this.step;this.step>=MAX_INTENSITY-1&&(offsetIntensity=1.5),this.indexTileChanged=indexTileChanged,this.tiles[this.indexTileChanged].color.offset(offsetIntensity,Math.random()>.5)}return _createClass(Game,[{key:"render",value:function(state){var tilesPerRow=~~Math.sqrt(this.tiles.length);return this.tiles.map(function(tile,index){return tile.render(state,index,tilesPerRow)})}},{key:"selectTile",value:function(data){return this.indexTileChanged==data.index}},{key:"generateTiles",value:function(step){for(var h=~~(360*Math.random()),s=100-(step<=25?step:25),l=~~(20*Math.random())+40,tiles=[],i=step+2;i>0;i--)for(var j=step+2;j>0;j--)tiles.push(new _Tile2.default(new _Color2.default(h,s,l)));return tiles}}]),Game}();exports.default=Game},{"./Color":15,"./Tile":20}],17:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_mercury=require("mercury/dist/mercury"),_mercury2=_interopRequireDefault(_mercury),h=_mercury2.default.h,preventEvent=_mercury2.default.BaseEvent(function(ev,broadcast){ev._rawEvent.preventDefault(),broadcast(this.data)}),Hall=function(){function Hall(){_classCallCheck(this,Hall)}return _createClass(Hall,null,[{key:"render",value:function(state){var className="hall";return state.hall.show&&(className+=" hall--visible"),h("div",{className:className},[h("div.hall__close-btn",{"ev-click":preventEvent(state.channels.closeHall),"ev-touchend":preventEvent(state.channels.closeHall)},"×"),h("p",["Reached step "+state.step+"."+(state.hall.maxScore?" Max score in this device":"")]),Hall.renderRankHelper(state),h("input.text",{type:"text",placeholder:"Name",name:"name",value:state.hall.playerName,disabled:!!state.hall.submitted,"ev-event":_mercury2.default.changeEvent(state.channels.updateName),"ev-blur":_mercury2.default.sendValue(state.channels.updateName)}),h("input.button",{type:"button",value:"OK",disabled:!!state.hall.submitted,"ev-click":_mercury2.default.send(state.channels.submitScore),"ev-touchend":_mercury2.default.send(state.channels.submitScore)}),h("div.hall__list",h("div.hall__list-container",state.hall.scores.sort(Hall.sort).filter(function(score,index){return index<10}).map(function(score,index){var className="hall__player";return score.isMyScore&&(className+=" hall__player--currentPlayer"),h("div",{className:className},[h("div.hall__player__rank","#"+(index+1)),h("div.hall__player__score",""+score.points),h("div.hall__player__name",""+score.name)])})))])}},{key:"sort",value:function(a,b){return a.points<b.points?1:a.points>b.points?-1:0}},{key:"renderRankHelper",value:function(state){return h("div","Rank #"+state.hall.scores.sort(Hall.sort).reduce(function(acum,current,index){return current.isMyScore?index+1:acum},0))}}]),Hall}();exports.default=Hall},{"mercury/dist/mercury":13}],18:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _App=require("./App"),_App2=_interopRequireDefault(_App),_mercury=require("mercury/dist/mercury"),_mercury2=_interopRequireDefault(_mercury),App=_App2.default.App,state=App();_mercury2.default.app(document.body,state,App.render),window.onresize=function(){state.forceRender.set(Date.now())}},{"./App":14,"mercury/dist/mercury":13}],19:[function(require,module,exports){"use strict";function getScore(){var score=localStorage.getItem("score");if(!score)return[];try{return JSON.parse(score)}catch(e){return console&&console.warn&&console.warn("[Main.js] Error parsing scores"),[]}}function setScore(score){try{localStorage.setItem("score",JSON.stringify(score))}catch(e){console&&console.warn&&console.warn("[Main.js] Error storing scores")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getScore=getScore,exports.setScore=setScore},{}],20:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_mercury=require("mercury/dist/mercury"),_mercury2=_interopRequireDefault(_mercury),h=_mercury2.default.h,preventEvent=_mercury2.default.BaseEvent(function(ev,broadcast){ev._rawEvent.preventDefault(),broadcast(this.data)}),Tile=function(){function Tile(color){_classCallCheck(this,Tile),this.color=color}return _createClass(Tile,[{key:"render",value:function(state,index,tilesPerRow){var isLastInRow=index%tilesPerRow==0,tileSize=(Math.min(window.innerHeight,window.innerWidth)-1)/tilesPerRow,style={backgroundColor:this.color.toRGB(),width:tileSize+"px",height:tileSize+"px"};return isLastInRow&&(style.clear="left"),h("div.tile",{style:style,"ev-click":preventEvent(state.channels.selectTile,{index:index}),"ev-touchend":preventEvent(state.channels.selectTile,{index:index})})}}]),Tile}();exports.default=Tile},{"mercury/dist/mercury":13}],21:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_mercury=require("mercury/dist/mercury"),_mercury2=_interopRequireDefault(_mercury),h=_mercury2.default.h,UI=function(){function UI(){_classCallCheck(this,UI)}return _createClass(UI,null,[{key:"render",value:function(state){return h("div.ui",["step "+state.step])}}]),UI}();exports.default=UI},{"mercury/dist/mercury":13}]},{},[18]);